<?php declare(strict_types=1);

namespace Application\Migrations;

use Doctrine\DBAL\Migrations\AbstractMigration;
use Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20180528141249 extends AbstractMigration
{
    public function up(Schema $schema) : void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'sqlite', 'Migration can only be executed safely on \'sqlite\'.');

        $this->addSql('CREATE TABLE Comparer (id INTEGER NOT NULL, comparerProducts CLOB NOT NULL --(DC2Type:array)
        , shopUser CLOB DEFAULT NULL --(DC2Type:object)
        , PRIMARY KEY(id))');
        $this->addSql('DROP INDEX IDX_ACA6E0F28D9F6D38');
        $this->addSql('DROP INDEX IDX_ACA6E0F2E415FB15');
        $this->addSql('DROP INDEX IDX_ACA6E0F2F720C233');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_adjustment AS SELECT id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at FROM sylius_adjustment');
        $this->addSql('DROP TABLE sylius_adjustment');
        $this->addSql('CREATE TABLE sylius_adjustment (id INTEGER NOT NULL, order_id INTEGER DEFAULT NULL, order_item_id INTEGER DEFAULT NULL, order_item_unit_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL COLLATE BINARY, label VARCHAR(255) DEFAULT NULL COLLATE BINARY, amount INTEGER NOT NULL, is_neutral BOOLEAN NOT NULL, is_locked BOOLEAN NOT NULL, origin_code VARCHAR(255) DEFAULT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_ACA6E0F28D9F6D38 FOREIGN KEY (order_id) REFERENCES sylius_order (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_ACA6E0F2E415FB15 FOREIGN KEY (order_item_id) REFERENCES sylius_order_item (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_ACA6E0F2F720C233 FOREIGN KEY (order_item_unit_id) REFERENCES sylius_order_item_unit (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_adjustment (id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at) SELECT id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at FROM __temp__sylius_adjustment');
        $this->addSql('DROP TABLE __temp__sylius_adjustment');
        $this->addSql('CREATE INDEX IDX_ACA6E0F28D9F6D38 ON sylius_adjustment (order_id)');
        $this->addSql('CREATE INDEX IDX_ACA6E0F2E415FB15 ON sylius_adjustment (order_item_id)');
        $this->addSql('CREATE INDEX IDX_ACA6E0F2F720C233 ON sylius_adjustment (order_item_unit_id)');
        $this->addSql('DROP INDEX IDX_5F52B852A76BEED');
        $this->addSql('DROP INDEX IDX_5F52B85B3FD5856');
        $this->addSql('DROP INDEX UNIQ_5F52B852A76BEEDB3FD5856');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_exchange_rate AS SELECT id, source_currency, target_currency, ratio, created_at, updated_at FROM sylius_exchange_rate');
        $this->addSql('DROP TABLE sylius_exchange_rate');
        $this->addSql('CREATE TABLE sylius_exchange_rate (id INTEGER NOT NULL, source_currency INTEGER NOT NULL, target_currency INTEGER NOT NULL, ratio NUMERIC(10, 5) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_5F52B852A76BEED FOREIGN KEY (source_currency) REFERENCES sylius_currency (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_5F52B85B3FD5856 FOREIGN KEY (target_currency) REFERENCES sylius_currency (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_exchange_rate (id, source_currency, target_currency, ratio, created_at, updated_at) SELECT id, source_currency, target_currency, ratio, created_at, updated_at FROM __temp__sylius_exchange_rate');
        $this->addSql('DROP TABLE __temp__sylius_exchange_rate');
        $this->addSql('CREATE INDEX IDX_5F52B852A76BEED ON sylius_exchange_rate (source_currency)');
        $this->addSql('CREATE INDEX IDX_5F52B85B3FD5856 ON sylius_exchange_rate (target_currency)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_5F52B852A76BEEDB3FD5856 ON sylius_exchange_rate (source_currency, target_currency)');
        $this->addSql('DROP INDEX IDX_48E9CDABB1E1C39');
        $this->addSql('DROP INDEX IDX_48E9CDAB4584665A');
        $this->addSql('DROP INDEX product_association_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association AS SELECT id, association_type_id, product_id, created_at, updated_at FROM sylius_product_association');
        $this->addSql('DROP TABLE sylius_product_association');
        $this->addSql('CREATE TABLE sylius_product_association (id INTEGER NOT NULL, association_type_id INTEGER NOT NULL, product_id INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_48E9CDABB1E1C39 FOREIGN KEY (association_type_id) REFERENCES sylius_product_association_type (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_48E9CDAB4584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_association (id, association_type_id, product_id, created_at, updated_at) SELECT id, association_type_id, product_id, created_at, updated_at FROM __temp__sylius_product_association');
        $this->addSql('DROP TABLE __temp__sylius_product_association');
        $this->addSql('CREATE INDEX IDX_48E9CDABB1E1C39 ON sylius_product_association (association_type_id)');
        $this->addSql('CREATE INDEX IDX_48E9CDAB4584665A ON sylius_product_association (product_id)');
        $this->addSql('CREATE UNIQUE INDEX product_association_idx ON sylius_product_association (product_id, association_type_id)');
        $this->addSql('DROP INDEX IDX_A427B983EFB9C8A5');
        $this->addSql('DROP INDEX IDX_A427B9834584665A');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association_product AS SELECT association_id, product_id FROM sylius_product_association_product');
        $this->addSql('DROP TABLE sylius_product_association_product');
        $this->addSql('CREATE TABLE sylius_product_association_product (association_id INTEGER NOT NULL, product_id INTEGER NOT NULL, PRIMARY KEY(association_id, product_id), CONSTRAINT FK_A427B983EFB9C8A5 FOREIGN KEY (association_id) REFERENCES sylius_product_association (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_A427B9834584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_association_product (association_id, product_id) SELECT association_id, product_id FROM __temp__sylius_product_association_product');
        $this->addSql('DROP TABLE __temp__sylius_product_association_product');
        $this->addSql('CREATE INDEX IDX_A427B983EFB9C8A5 ON sylius_product_association_product (association_id)');
        $this->addSql('CREATE INDEX IDX_A427B9834584665A ON sylius_product_association_product (product_id)');
        $this->addSql('DROP INDEX IDX_4F618E52C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_association_type_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association_type_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_association_type_translation');
        $this->addSql('DROP TABLE sylius_product_association_type_translation');
        $this->addSql('CREATE TABLE sylius_product_association_type_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_4F618E52C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product_association_type (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_association_type_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_association_type_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_association_type_translation');
        $this->addSql('CREATE INDEX IDX_4F618E52C2AC5D3 ON sylius_product_association_type_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_association_type_translation_uniq_trans ON sylius_product_association_type_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_93850EBA2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_attribute_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_attribute_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_attribute_translation');
        $this->addSql('DROP TABLE sylius_product_attribute_translation');
        $this->addSql('CREATE TABLE sylius_product_attribute_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_93850EBA2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product_attribute (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_attribute_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_attribute_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_attribute_translation');
        $this->addSql('CREATE INDEX IDX_93850EBA2C2AC5D3 ON sylius_product_attribute_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_attribute_translation_uniq_trans ON sylius_product_attribute_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_8A053E544584665A');
        $this->addSql('DROP INDEX IDX_8A053E54B6E62EFA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_attribute_value AS SELECT id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value FROM sylius_product_attribute_value');
        $this->addSql('DROP TABLE sylius_product_attribute_value');
        $this->addSql('CREATE TABLE sylius_product_attribute_value (id INTEGER NOT NULL, product_id INTEGER NOT NULL, attribute_id INTEGER NOT NULL, locale_code VARCHAR(255) NOT NULL COLLATE BINARY, text_value CLOB DEFAULT NULL COLLATE BINARY, boolean_value BOOLEAN DEFAULT NULL, integer_value INTEGER DEFAULT NULL, float_value DOUBLE PRECISION DEFAULT NULL, datetime_value DATETIME DEFAULT NULL, date_value DATE DEFAULT NULL, json_value CLOB DEFAULT NULL COLLATE BINARY --(DC2Type:json_array)
        , PRIMARY KEY(id), CONSTRAINT FK_8A053E544584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_8A053E54B6E62EFA FOREIGN KEY (attribute_id) REFERENCES sylius_product_attribute (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_attribute_value (id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value) SELECT id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value FROM __temp__sylius_product_attribute_value');
        $this->addSql('DROP TABLE __temp__sylius_product_attribute_value');
        $this->addSql('CREATE INDEX IDX_8A053E544584665A ON sylius_product_attribute_value (product_id)');
        $this->addSql('CREATE INDEX IDX_8A053E54B6E62EFA ON sylius_product_attribute_value (attribute_id)');
        $this->addSql('DROP INDEX IDX_CBA491AD2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_option_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_option_translation');
        $this->addSql('DROP TABLE sylius_product_option_translation');
        $this->addSql('CREATE TABLE sylius_product_option_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_CBA491AD2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product_option (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_option_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_option_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_option_translation');
        $this->addSql('CREATE INDEX IDX_CBA491AD2C2AC5D3 ON sylius_product_option_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_option_translation_uniq_trans ON sylius_product_option_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_F7FF7D4B77153098');
        $this->addSql('DROP INDEX IDX_F7FF7D4BA7C41D6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_value AS SELECT id, option_id, code FROM sylius_product_option_value');
        $this->addSql('DROP TABLE sylius_product_option_value');
        $this->addSql('CREATE TABLE sylius_product_option_value (id INTEGER NOT NULL, option_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_F7FF7D4BA7C41D6F FOREIGN KEY (option_id) REFERENCES sylius_product_option (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_option_value (id, option_id, code) SELECT id, option_id, code FROM __temp__sylius_product_option_value');
        $this->addSql('DROP TABLE __temp__sylius_product_option_value');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_F7FF7D4B77153098 ON sylius_product_option_value (code)');
        $this->addSql('CREATE INDEX IDX_F7FF7D4BA7C41D6F ON sylius_product_option_value (option_id)');
        $this->addSql('DROP INDEX IDX_8D4382DC2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_option_value_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_value_translation AS SELECT id, translatable_id, value, locale FROM sylius_product_option_value_translation');
        $this->addSql('DROP TABLE sylius_product_option_value_translation');
        $this->addSql('CREATE TABLE sylius_product_option_value_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, value VARCHAR(255) NOT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_8D4382DC2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product_option_value (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_option_value_translation (id, translatable_id, value, locale) SELECT id, translatable_id, value, locale FROM __temp__sylius_product_option_value_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_option_value_translation');
        $this->addSql('CREATE INDEX IDX_8D4382DC2C2AC5D3 ON sylius_product_option_value_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_option_value_translation_uniq_trans ON sylius_product_option_value_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_8DC18EDC2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_variant_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_variant_translation');
        $this->addSql('DROP TABLE sylius_product_variant_translation');
        $this->addSql('CREATE TABLE sylius_product_variant_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_8DC18EDC2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product_variant (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_variant_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_variant_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_variant_translation');
        $this->addSql('CREATE INDEX IDX_8DC18EDC2C2AC5D3 ON sylius_product_variant_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_variant_translation_uniq_trans ON sylius_product_variant_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_2B37DB3D2C2AC5D3');
        $this->addSql('DROP INDEX sylius_shipping_method_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method_translation AS SELECT id, translatable_id, name, description, locale FROM sylius_shipping_method_translation');
        $this->addSql('DROP TABLE sylius_shipping_method_translation');
        $this->addSql('CREATE TABLE sylius_shipping_method_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, description VARCHAR(255) DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_2B37DB3D2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_shipping_method (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_shipping_method_translation (id, translatable_id, name, description, locale) SELECT id, translatable_id, name, description, locale FROM __temp__sylius_shipping_method_translation');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method_translation');
        $this->addSql('CREATE INDEX IDX_2B37DB3D2C2AC5D3 ON sylius_shipping_method_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_shipping_method_translation_uniq_trans ON sylius_shipping_method_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_966BE3A12C2AC5D3');
        $this->addSql('DROP INDEX sylius_payment_method_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method_translation AS SELECT id, translatable_id, name, description, instructions, locale FROM sylius_payment_method_translation');
        $this->addSql('DROP TABLE sylius_payment_method_translation');
        $this->addSql('CREATE TABLE sylius_payment_method_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, description CLOB DEFAULT NULL COLLATE BINARY, instructions CLOB DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_966BE3A12C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_payment_method (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_payment_method_translation (id, translatable_id, name, description, instructions, locale) SELECT id, translatable_id, name, description, instructions, locale FROM __temp__sylius_payment_method_translation');
        $this->addSql('DROP TABLE __temp__sylius_payment_method_translation');
        $this->addSql('CREATE INDEX IDX_966BE3A12C2AC5D3 ON sylius_payment_method_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_payment_method_translation_uniq_trans ON sylius_payment_method_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_933D0915139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_action AS SELECT id, promotion_id, type, configuration FROM sylius_promotion_action');
        $this->addSql('DROP TABLE sylius_promotion_action');
        $this->addSql('CREATE TABLE sylius_promotion_action (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL COLLATE BINARY, configuration CLOB NOT NULL COLLATE BINARY --(DC2Type:array)
        , PRIMARY KEY(id), CONSTRAINT FK_933D0915139DF194 FOREIGN KEY (promotion_id) REFERENCES sylius_promotion (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_promotion_action (id, promotion_id, type, configuration) SELECT id, promotion_id, type, configuration FROM __temp__sylius_promotion_action');
        $this->addSql('DROP TABLE __temp__sylius_promotion_action');
        $this->addSql('CREATE INDEX IDX_933D0915139DF194 ON sylius_promotion_action (promotion_id)');
        $this->addSql('DROP INDEX IDX_2C188EA8139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_rule AS SELECT id, promotion_id, type, configuration FROM sylius_promotion_rule');
        $this->addSql('DROP TABLE sylius_promotion_rule');
        $this->addSql('CREATE TABLE sylius_promotion_rule (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL COLLATE BINARY, configuration CLOB NOT NULL COLLATE BINARY --(DC2Type:array)
        , PRIMARY KEY(id), CONSTRAINT FK_2C188EA8139DF194 FOREIGN KEY (promotion_id) REFERENCES sylius_promotion (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_promotion_rule (id, promotion_id, type, configuration) SELECT id, promotion_id, type, configuration FROM __temp__sylius_promotion_rule');
        $this->addSql('DROP TABLE __temp__sylius_promotion_rule');
        $this->addSql('CREATE INDEX IDX_2C188EA8139DF194 ON sylius_promotion_rule (promotion_id)');
        $this->addSql('DROP INDEX UNIQ_B5618FE477153098');
        $this->addSql('DROP INDEX IDX_B5618FE4F92F3E70');
        $this->addSql('DROP INDEX UNIQ_B5618FE4F92F3E705E237E06');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_province AS SELECT id, country_id, code, name, abbreviation FROM sylius_province');
        $this->addSql('DROP TABLE sylius_province');
        $this->addSql('CREATE TABLE sylius_province (id INTEGER NOT NULL, country_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, name VARCHAR(255) NOT NULL COLLATE BINARY, abbreviation VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_B5618FE4F92F3E70 FOREIGN KEY (country_id) REFERENCES sylius_country (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_province (id, country_id, code, name, abbreviation) SELECT id, country_id, code, name, abbreviation FROM __temp__sylius_province');
        $this->addSql('DROP TABLE __temp__sylius_province');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5618FE477153098 ON sylius_province (code)');
        $this->addSql('CREATE INDEX IDX_B5618FE4F92F3E70 ON sylius_province (country_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5618FE4F92F3E705E237E06 ON sylius_province (country_id, name)');
        $this->addSql('DROP INDEX IDX_E8B5ABF34B0E929B');
        $this->addSql('DROP INDEX UNIQ_E8B5ABF34B0E929B77153098');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_zone_member AS SELECT id, belongs_to, code FROM sylius_zone_member');
        $this->addSql('DROP TABLE sylius_zone_member');
        $this->addSql('CREATE TABLE sylius_zone_member (id INTEGER NOT NULL, belongs_to INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_E8B5ABF34B0E929B FOREIGN KEY (belongs_to) REFERENCES sylius_zone (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_zone_member (id, belongs_to, code) SELECT id, belongs_to, code FROM __temp__sylius_zone_member');
        $this->addSql('DROP TABLE __temp__sylius_zone_member');
        $this->addSql('CREATE INDEX IDX_E8B5ABF34B0E929B ON sylius_zone_member (belongs_to)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_E8B5ABF34B0E929B77153098 ON sylius_zone_member (belongs_to, code)');
        $this->addSql('DROP INDEX IDX_1487DFCF2C2AC5D3');
        $this->addSql('DROP INDEX slug_uidx');
        $this->addSql('DROP INDEX sylius_taxon_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon_translation AS SELECT id, translatable_id, name, slug, description, locale FROM sylius_taxon_translation');
        $this->addSql('DROP TABLE sylius_taxon_translation');
        $this->addSql('CREATE TABLE sylius_taxon_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, slug VARCHAR(255) NOT NULL COLLATE BINARY, description CLOB DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_1487DFCF2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_taxon (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_taxon_translation (id, translatable_id, name, slug, description, locale) SELECT id, translatable_id, name, slug, description, locale FROM __temp__sylius_taxon_translation');
        $this->addSql('DROP TABLE __temp__sylius_taxon_translation');
        $this->addSql('CREATE INDEX IDX_1487DFCF2C2AC5D3 ON sylius_taxon_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX slug_uidx ON sylius_taxon_translation (locale, slug)');
        $this->addSql('CREATE UNIQUE INDEX sylius_taxon_translation_uniq_trans ON sylius_taxon_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_C3471B78A76ED395');
        $this->addSql('DROP INDEX user_provider');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_user_oauth AS SELECT id, user_id, provider, identifier, access_token, refresh_token FROM sylius_user_oauth');
        $this->addSql('DROP TABLE sylius_user_oauth');
        $this->addSql('CREATE TABLE sylius_user_oauth (id INTEGER NOT NULL, user_id INTEGER DEFAULT NULL, provider VARCHAR(255) NOT NULL COLLATE BINARY, identifier VARCHAR(255) NOT NULL COLLATE BINARY, access_token VARCHAR(255) DEFAULT NULL COLLATE BINARY, refresh_token VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_C3471B78A76ED395 FOREIGN KEY (user_id) REFERENCES sylius_shop_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_user_oauth (id, user_id, provider, identifier, access_token, refresh_token) SELECT id, user_id, provider, identifier, access_token, refresh_token FROM __temp__sylius_user_oauth');
        $this->addSql('DROP TABLE __temp__sylius_user_oauth');
        $this->addSql('CREATE INDEX IDX_C3471B78A76ED395 ON sylius_user_oauth (user_id)');
        $this->addSql('CREATE UNIQUE INDEX user_provider ON sylius_user_oauth (user_id, provider)');
        $this->addSql('DROP INDEX IDX_B97FF0589395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_address AS SELECT id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name FROM sylius_address');
        $this->addSql('DROP TABLE sylius_address');
        $this->addSql('CREATE TABLE sylius_address (id INTEGER NOT NULL, customer_id INTEGER DEFAULT NULL, first_name VARCHAR(255) NOT NULL COLLATE BINARY, last_name VARCHAR(255) NOT NULL COLLATE BINARY, phone_number VARCHAR(255) DEFAULT NULL COLLATE BINARY, street VARCHAR(255) NOT NULL COLLATE BINARY, company VARCHAR(255) DEFAULT NULL COLLATE BINARY, city VARCHAR(255) NOT NULL COLLATE BINARY, postcode VARCHAR(255) NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, country_code VARCHAR(255) NOT NULL COLLATE BINARY, province_code VARCHAR(255) DEFAULT NULL COLLATE BINARY, province_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_B97FF0589395C3F3 FOREIGN KEY (customer_id) REFERENCES sylius_customer (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_address (id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name) SELECT id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name FROM __temp__sylius_address');
        $this->addSql('DROP TABLE __temp__sylius_address');
        $this->addSql('CREATE INDEX IDX_B97FF0589395C3F3 ON sylius_address (customer_id)');
        $this->addSql('DROP INDEX UNIQ_16C8119E77153098');
        $this->addSql('DROP INDEX IDX_16C8119E743BF776');
        $this->addSql('DROP INDEX IDX_16C8119E3101778E');
        $this->addSql('DROP INDEX IDX_16C8119EA978C17');
        $this->addSql('DROP INDEX IDX_16C8119EE551C011');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel AS SELECT id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required FROM sylius_channel');
        $this->addSql('DROP TABLE sylius_channel');
        $this->addSql('CREATE TABLE sylius_channel (id INTEGER NOT NULL, default_locale_id INTEGER NOT NULL, base_currency_id INTEGER NOT NULL, default_tax_zone_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, name VARCHAR(255) NOT NULL COLLATE BINARY, color VARCHAR(255) DEFAULT NULL COLLATE BINARY, description CLOB DEFAULT NULL COLLATE BINARY, enabled BOOLEAN NOT NULL, hostname VARCHAR(255) DEFAULT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, theme_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, tax_calculation_strategy VARCHAR(255) NOT NULL COLLATE BINARY, contact_email VARCHAR(255) DEFAULT NULL COLLATE BINARY, skipping_shipping_step_allowed BOOLEAN NOT NULL, skipping_payment_step_allowed BOOLEAN NOT NULL, account_verification_required BOOLEAN NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_16C8119E743BF776 FOREIGN KEY (default_locale_id) REFERENCES sylius_locale (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_16C8119E3101778E FOREIGN KEY (base_currency_id) REFERENCES sylius_currency (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_16C8119EA978C17 FOREIGN KEY (default_tax_zone_id) REFERENCES sylius_zone (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_channel (id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required) SELECT id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required FROM __temp__sylius_channel');
        $this->addSql('DROP TABLE __temp__sylius_channel');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_16C8119E77153098 ON sylius_channel (code)');
        $this->addSql('CREATE INDEX IDX_16C8119E743BF776 ON sylius_channel (default_locale_id)');
        $this->addSql('CREATE INDEX IDX_16C8119E3101778E ON sylius_channel (base_currency_id)');
        $this->addSql('CREATE INDEX IDX_16C8119EA978C17 ON sylius_channel (default_tax_zone_id)');
        $this->addSql('CREATE INDEX IDX_16C8119EE551C011 ON sylius_channel (hostname)');
        $this->addSql('DROP INDEX IDX_AE491F9372F5A1AA');
        $this->addSql('DROP INDEX IDX_AE491F9338248176');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_currencies AS SELECT channel_id, currency_id FROM sylius_channel_currencies');
        $this->addSql('DROP TABLE sylius_channel_currencies');
        $this->addSql('CREATE TABLE sylius_channel_currencies (channel_id INTEGER NOT NULL, currency_id INTEGER NOT NULL, PRIMARY KEY(channel_id, currency_id), CONSTRAINT FK_AE491F9372F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_AE491F9338248176 FOREIGN KEY (currency_id) REFERENCES sylius_currency (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_channel_currencies (channel_id, currency_id) SELECT channel_id, currency_id FROM __temp__sylius_channel_currencies');
        $this->addSql('DROP TABLE __temp__sylius_channel_currencies');
        $this->addSql('CREATE INDEX IDX_AE491F9372F5A1AA ON sylius_channel_currencies (channel_id)');
        $this->addSql('CREATE INDEX IDX_AE491F9338248176 ON sylius_channel_currencies (currency_id)');
        $this->addSql('DROP INDEX IDX_786B7A8472F5A1AA');
        $this->addSql('DROP INDEX IDX_786B7A84E559DFD1');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_locales AS SELECT channel_id, locale_id FROM sylius_channel_locales');
        $this->addSql('DROP TABLE sylius_channel_locales');
        $this->addSql('CREATE TABLE sylius_channel_locales (channel_id INTEGER NOT NULL, locale_id INTEGER NOT NULL, PRIMARY KEY(channel_id, locale_id), CONSTRAINT FK_786B7A8472F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_786B7A84E559DFD1 FOREIGN KEY (locale_id) REFERENCES sylius_locale (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_channel_locales (channel_id, locale_id) SELECT channel_id, locale_id FROM __temp__sylius_channel_locales');
        $this->addSql('DROP TABLE __temp__sylius_channel_locales');
        $this->addSql('CREATE INDEX IDX_786B7A8472F5A1AA ON sylius_channel_locales (channel_id)');
        $this->addSql('CREATE INDEX IDX_786B7A84E559DFD1 ON sylius_channel_locales (locale_id)');
        $this->addSql('DROP INDEX IDX_7801820CA80EF684');
        $this->addSql('DROP INDEX product_variant_channel_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_pricing AS SELECT id, product_variant_id, price, original_price, channel_code FROM sylius_channel_pricing');
        $this->addSql('DROP TABLE sylius_channel_pricing');
        $this->addSql('CREATE TABLE sylius_channel_pricing (id INTEGER NOT NULL, product_variant_id INTEGER NOT NULL, price INTEGER NOT NULL, original_price INTEGER DEFAULT NULL, channel_code VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_7801820CA80EF684 FOREIGN KEY (product_variant_id) REFERENCES sylius_product_variant (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_channel_pricing (id, product_variant_id, price, original_price, channel_code) SELECT id, product_variant_id, price, original_price, channel_code FROM __temp__sylius_channel_pricing');
        $this->addSql('DROP TABLE __temp__sylius_channel_pricing');
        $this->addSql('CREATE INDEX IDX_7801820CA80EF684 ON sylius_channel_pricing (product_variant_id)');
        $this->addSql('CREATE UNIQUE INDEX product_variant_channel_idx ON sylius_channel_pricing (product_variant_id, channel_code)');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6E7927C74');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6A0D96FBF');
        $this->addSql('DROP INDEX IDX_7E82D5E6D2919A68');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6BD94FB16');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_customer AS SELECT id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter FROM sylius_customer');
        $this->addSql('DROP TABLE sylius_customer');
        $this->addSql('CREATE TABLE sylius_customer (id INTEGER NOT NULL, customer_group_id INTEGER DEFAULT NULL, default_address_id INTEGER DEFAULT NULL, email VARCHAR(255) NOT NULL COLLATE BINARY, email_canonical VARCHAR(255) NOT NULL COLLATE BINARY, first_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, last_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, birthday DATETIME DEFAULT NULL, gender VARCHAR(1) DEFAULT \'u\' NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, phone_number VARCHAR(255) DEFAULT NULL COLLATE BINARY, subscribed_to_newsletter BOOLEAN NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_7E82D5E6D2919A68 FOREIGN KEY (customer_group_id) REFERENCES sylius_customer_group (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_7E82D5E6BD94FB16 FOREIGN KEY (default_address_id) REFERENCES sylius_address (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_customer (id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter) SELECT id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter FROM __temp__sylius_customer');
        $this->addSql('DROP TABLE __temp__sylius_customer');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6E7927C74 ON sylius_customer (email)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6A0D96FBF ON sylius_customer (email_canonical)');
        $this->addSql('CREATE INDEX IDX_7E82D5E6D2919A68 ON sylius_customer (customer_group_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6BD94FB16 ON sylius_customer (default_address_id)');
        $this->addSql('DROP INDEX UNIQ_6196A1F996901F54');
        $this->addSql('DROP INDEX UNIQ_6196A1F94D4CFF2B');
        $this->addSql('DROP INDEX UNIQ_6196A1F979D0C0E4');
        $this->addSql('DROP INDEX IDX_6196A1F972F5A1AA');
        $this->addSql('DROP INDEX IDX_6196A1F917B24436');
        $this->addSql('DROP INDEX IDX_6196A1F99395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order AS SELECT id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip FROM sylius_order');
        $this->addSql('DROP TABLE sylius_order');
        $this->addSql('CREATE TABLE sylius_order (id INTEGER NOT NULL, shipping_address_id INTEGER DEFAULT NULL, billing_address_id INTEGER DEFAULT NULL, channel_id INTEGER DEFAULT NULL, promotion_coupon_id INTEGER DEFAULT NULL, customer_id INTEGER DEFAULT NULL, number VARCHAR(255) DEFAULT NULL COLLATE BINARY, notes CLOB DEFAULT NULL COLLATE BINARY, state VARCHAR(255) NOT NULL COLLATE BINARY, checkout_completed_at DATETIME DEFAULT NULL, items_total INTEGER NOT NULL, adjustments_total INTEGER NOT NULL, total INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, currency_code VARCHAR(3) NOT NULL COLLATE BINARY, locale_code VARCHAR(255) NOT NULL COLLATE BINARY, checkout_state VARCHAR(255) NOT NULL COLLATE BINARY, payment_state VARCHAR(255) NOT NULL COLLATE BINARY, shipping_state VARCHAR(255) NOT NULL COLLATE BINARY, token_value VARCHAR(255) DEFAULT NULL COLLATE BINARY, customer_ip VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_6196A1F94D4CFF2B FOREIGN KEY (shipping_address_id) REFERENCES sylius_address (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_6196A1F979D0C0E4 FOREIGN KEY (billing_address_id) REFERENCES sylius_address (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_6196A1F972F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_6196A1F917B24436 FOREIGN KEY (promotion_coupon_id) REFERENCES sylius_promotion_coupon (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_6196A1F99395C3F3 FOREIGN KEY (customer_id) REFERENCES sylius_customer (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_order (id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip) SELECT id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip FROM __temp__sylius_order');
        $this->addSql('DROP TABLE __temp__sylius_order');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F996901F54 ON sylius_order (number)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F94D4CFF2B ON sylius_order (shipping_address_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F979D0C0E4 ON sylius_order (billing_address_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F972F5A1AA ON sylius_order (channel_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F917B24436 ON sylius_order (promotion_coupon_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F99395C3F3 ON sylius_order (customer_id)');
        $this->addSql('DROP INDEX IDX_BF9CF6FB8D9F6D38');
        $this->addSql('DROP INDEX IDX_BF9CF6FB139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_order AS SELECT order_id, promotion_id FROM sylius_promotion_order');
        $this->addSql('DROP TABLE sylius_promotion_order');
        $this->addSql('CREATE TABLE sylius_promotion_order (order_id INTEGER NOT NULL, promotion_id INTEGER NOT NULL, PRIMARY KEY(order_id, promotion_id), CONSTRAINT FK_BF9CF6FB8D9F6D38 FOREIGN KEY (order_id) REFERENCES sylius_order (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_BF9CF6FB139DF194 FOREIGN KEY (promotion_id) REFERENCES sylius_promotion (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_promotion_order (order_id, promotion_id) SELECT order_id, promotion_id FROM __temp__sylius_promotion_order');
        $this->addSql('DROP TABLE __temp__sylius_promotion_order');
        $this->addSql('CREATE INDEX IDX_BF9CF6FB8D9F6D38 ON sylius_promotion_order (order_id)');
        $this->addSql('CREATE INDEX IDX_BF9CF6FB139DF194 ON sylius_promotion_order (promotion_id)');
        $this->addSql('DROP INDEX IDX_77B587ED8D9F6D38');
        $this->addSql('DROP INDEX IDX_77B587ED3B69A9AF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order_item AS SELECT id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name FROM sylius_order_item');
        $this->addSql('DROP TABLE sylius_order_item');
        $this->addSql('CREATE TABLE sylius_order_item (id INTEGER NOT NULL, order_id INTEGER NOT NULL, variant_id INTEGER NOT NULL, quantity INTEGER NOT NULL, unit_price INTEGER NOT NULL, units_total INTEGER NOT NULL, adjustments_total INTEGER NOT NULL, total INTEGER NOT NULL, is_immutable BOOLEAN NOT NULL, product_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, variant_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_77B587ED8D9F6D38 FOREIGN KEY (order_id) REFERENCES sylius_order (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_77B587ED3B69A9AF FOREIGN KEY (variant_id) REFERENCES sylius_product_variant (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_order_item (id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name) SELECT id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name FROM __temp__sylius_order_item');
        $this->addSql('DROP TABLE __temp__sylius_order_item');
        $this->addSql('CREATE INDEX IDX_77B587ED8D9F6D38 ON sylius_order_item (order_id)');
        $this->addSql('CREATE INDEX IDX_77B587ED3B69A9AF ON sylius_order_item (variant_id)');
        $this->addSql('DROP INDEX IDX_82BF226EE415FB15');
        $this->addSql('DROP INDEX IDX_82BF226E7BE036FC');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order_item_unit AS SELECT id, order_item_id, shipment_id, adjustments_total, created_at, updated_at FROM sylius_order_item_unit');
        $this->addSql('DROP TABLE sylius_order_item_unit');
        $this->addSql('CREATE TABLE sylius_order_item_unit (id INTEGER NOT NULL, order_item_id INTEGER NOT NULL, shipment_id INTEGER DEFAULT NULL, adjustments_total INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_82BF226EE415FB15 FOREIGN KEY (order_item_id) REFERENCES sylius_order_item (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_82BF226E7BE036FC FOREIGN KEY (shipment_id) REFERENCES sylius_shipment (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_order_item_unit (id, order_item_id, shipment_id, adjustments_total, created_at, updated_at) SELECT id, order_item_id, shipment_id, adjustments_total, created_at, updated_at FROM __temp__sylius_order_item_unit');
        $this->addSql('DROP TABLE __temp__sylius_order_item_unit');
        $this->addSql('CREATE INDEX IDX_82BF226EE415FB15 ON sylius_order_item_unit (order_item_id)');
        $this->addSql('CREATE INDEX IDX_82BF226E7BE036FC ON sylius_order_item_unit (shipment_id)');
        $this->addSql('DROP INDEX IDX_D9191BD419883967');
        $this->addSql('DROP INDEX IDX_D9191BD48D9F6D38');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment AS SELECT id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at FROM sylius_payment');
        $this->addSql('DROP TABLE sylius_payment');
        $this->addSql('CREATE TABLE sylius_payment (id INTEGER NOT NULL, method_id INTEGER DEFAULT NULL, order_id INTEGER NOT NULL, currency_code VARCHAR(3) NOT NULL COLLATE BINARY, amount INTEGER NOT NULL, state VARCHAR(255) NOT NULL COLLATE BINARY, details CLOB NOT NULL COLLATE BINARY --(DC2Type:json_array)
        , created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_D9191BD419883967 FOREIGN KEY (method_id) REFERENCES sylius_payment_method (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_D9191BD48D9F6D38 FOREIGN KEY (order_id) REFERENCES sylius_order (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_payment (id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at) SELECT id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at FROM __temp__sylius_payment');
        $this->addSql('DROP TABLE __temp__sylius_payment');
        $this->addSql('CREATE INDEX IDX_D9191BD419883967 ON sylius_payment (method_id)');
        $this->addSql('CREATE INDEX IDX_D9191BD48D9F6D38 ON sylius_payment (order_id)');
        $this->addSql('DROP INDEX UNIQ_A75B0B0D77153098');
        $this->addSql('DROP INDEX IDX_A75B0B0DF23D6140');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method AS SELECT id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at FROM sylius_payment_method');
        $this->addSql('DROP TABLE sylius_payment_method');
        $this->addSql('CREATE TABLE sylius_payment_method (id INTEGER NOT NULL, gateway_config_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, environment VARCHAR(255) DEFAULT NULL COLLATE BINARY, is_enabled BOOLEAN NOT NULL, position INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_A75B0B0DF23D6140 FOREIGN KEY (gateway_config_id) REFERENCES sylius_gateway_config (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_payment_method (id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at) SELECT id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at FROM __temp__sylius_payment_method');
        $this->addSql('DROP TABLE __temp__sylius_payment_method');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A75B0B0D77153098 ON sylius_payment_method (code)');
        $this->addSql('CREATE INDEX IDX_A75B0B0DF23D6140 ON sylius_payment_method (gateway_config_id)');
        $this->addSql('DROP INDEX IDX_543AC0CC5AA1164F');
        $this->addSql('DROP INDEX IDX_543AC0CC72F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method_channels AS SELECT payment_method_id, channel_id FROM sylius_payment_method_channels');
        $this->addSql('DROP TABLE sylius_payment_method_channels');
        $this->addSql('CREATE TABLE sylius_payment_method_channels (payment_method_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(payment_method_id, channel_id), CONSTRAINT FK_543AC0CC5AA1164F FOREIGN KEY (payment_method_id) REFERENCES sylius_payment_method (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_543AC0CC72F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_payment_method_channels (payment_method_id, channel_id) SELECT payment_method_id, channel_id FROM __temp__sylius_payment_method_channels');
        $this->addSql('DROP TABLE __temp__sylius_payment_method_channels');
        $this->addSql('CREATE INDEX IDX_543AC0CC5AA1164F ON sylius_payment_method_channels (payment_method_id)');
        $this->addSql('CREATE INDEX IDX_543AC0CC72F5A1AA ON sylius_payment_method_channels (channel_id)');
        $this->addSql('DROP INDEX UNIQ_677B9B7477153098');
        $this->addSql('DROP INDEX IDX_677B9B74731E505');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product AS SELECT id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating FROM sylius_product');
        $this->addSql('DROP TABLE sylius_product');
        $this->addSql('CREATE TABLE sylius_product (id INTEGER NOT NULL, main_taxon_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, enabled BOOLEAN NOT NULL, variant_selection_method VARCHAR(255) NOT NULL COLLATE BINARY, average_rating DOUBLE PRECISION DEFAULT \'0\' NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_677B9B74731E505 FOREIGN KEY (main_taxon_id) REFERENCES sylius_taxon (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product (id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating) SELECT id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating FROM __temp__sylius_product');
        $this->addSql('DROP TABLE __temp__sylius_product');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_677B9B7477153098 ON sylius_product (code)');
        $this->addSql('CREATE INDEX IDX_677B9B74731E505 ON sylius_product (main_taxon_id)');
        $this->addSql('DROP INDEX IDX_F9EF269B4584665A');
        $this->addSql('DROP INDEX IDX_F9EF269B72F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_channels AS SELECT product_id, channel_id FROM sylius_product_channels');
        $this->addSql('DROP TABLE sylius_product_channels');
        $this->addSql('CREATE TABLE sylius_product_channels (product_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(product_id, channel_id), CONSTRAINT FK_F9EF269B4584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F9EF269B72F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_channels (product_id, channel_id) SELECT product_id, channel_id FROM __temp__sylius_product_channels');
        $this->addSql('DROP TABLE __temp__sylius_product_channels');
        $this->addSql('CREATE INDEX IDX_F9EF269B4584665A ON sylius_product_channels (product_id)');
        $this->addSql('CREATE INDEX IDX_F9EF269B72F5A1AA ON sylius_product_channels (channel_id)');
        $this->addSql('DROP INDEX IDX_2B5FF0094584665A');
        $this->addSql('DROP INDEX IDX_2B5FF009A7C41D6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_options AS SELECT product_id, option_id FROM sylius_product_options');
        $this->addSql('DROP TABLE sylius_product_options');
        $this->addSql('CREATE TABLE sylius_product_options (product_id INTEGER NOT NULL, option_id INTEGER NOT NULL, PRIMARY KEY(product_id, option_id), CONSTRAINT FK_2B5FF0094584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_2B5FF009A7C41D6F FOREIGN KEY (option_id) REFERENCES sylius_product_option (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_options (product_id, option_id) SELECT product_id, option_id FROM __temp__sylius_product_options');
        $this->addSql('DROP TABLE __temp__sylius_product_options');
        $this->addSql('CREATE INDEX IDX_2B5FF0094584665A ON sylius_product_options (product_id)');
        $this->addSql('CREATE INDEX IDX_2B5FF009A7C41D6F ON sylius_product_options (option_id)');
        $this->addSql('DROP INDEX IDX_88C64B2D7E3C61F9');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_image AS SELECT id, owner_id, type, path FROM sylius_product_image');
        $this->addSql('DROP TABLE sylius_product_image');
        $this->addSql('CREATE TABLE sylius_product_image (id INTEGER NOT NULL, owner_id INTEGER NOT NULL, type VARCHAR(255) DEFAULT NULL COLLATE BINARY, path VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_88C64B2D7E3C61F9 FOREIGN KEY (owner_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_image (id, owner_id, type, path) SELECT id, owner_id, type, path FROM __temp__sylius_product_image');
        $this->addSql('DROP TABLE __temp__sylius_product_image');
        $this->addSql('CREATE INDEX IDX_88C64B2D7E3C61F9 ON sylius_product_image (owner_id)');
        $this->addSql('DROP INDEX IDX_8FFDAE8D3DA5256D');
        $this->addSql('DROP INDEX IDX_8FFDAE8D3B69A9AF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_image_product_variants AS SELECT image_id, variant_id FROM sylius_product_image_product_variants');
        $this->addSql('DROP TABLE sylius_product_image_product_variants');
        $this->addSql('CREATE TABLE sylius_product_image_product_variants (image_id INTEGER NOT NULL, variant_id INTEGER NOT NULL, PRIMARY KEY(image_id, variant_id), CONSTRAINT FK_8FFDAE8D3DA5256D FOREIGN KEY (image_id) REFERENCES sylius_product_image (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_8FFDAE8D3B69A9AF FOREIGN KEY (variant_id) REFERENCES sylius_product_variant (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_image_product_variants (image_id, variant_id) SELECT image_id, variant_id FROM __temp__sylius_product_image_product_variants');
        $this->addSql('DROP TABLE __temp__sylius_product_image_product_variants');
        $this->addSql('CREATE INDEX IDX_8FFDAE8D3DA5256D ON sylius_product_image_product_variants (image_id)');
        $this->addSql('CREATE INDEX IDX_8FFDAE8D3B69A9AF ON sylius_product_image_product_variants (variant_id)');
        $this->addSql('DROP INDEX IDX_C7056A994584665A');
        $this->addSql('DROP INDEX IDX_C7056A99F675F31B');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_review AS SELECT id, product_id, author_id, title, rating, comment, status, created_at, updated_at FROM sylius_product_review');
        $this->addSql('DROP TABLE sylius_product_review');
        $this->addSql('CREATE TABLE sylius_product_review (id INTEGER NOT NULL, product_id INTEGER NOT NULL, author_id INTEGER NOT NULL, title VARCHAR(255) NOT NULL COLLATE BINARY, rating INTEGER NOT NULL, comment CLOB DEFAULT NULL COLLATE BINARY, status VARCHAR(255) NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_C7056A994584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_C7056A99F675F31B FOREIGN KEY (author_id) REFERENCES sylius_customer (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_review (id, product_id, author_id, title, rating, comment, status, created_at, updated_at) SELECT id, product_id, author_id, title, rating, comment, status, created_at, updated_at FROM __temp__sylius_product_review');
        $this->addSql('DROP TABLE __temp__sylius_product_review');
        $this->addSql('CREATE INDEX IDX_C7056A994584665A ON sylius_product_review (product_id)');
        $this->addSql('CREATE INDEX IDX_C7056A99F675F31B ON sylius_product_review (author_id)');
        $this->addSql('DROP INDEX IDX_169C6CD94584665A');
        $this->addSql('DROP INDEX IDX_169C6CD9DE13F470');
        $this->addSql('DROP INDEX product_taxon_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_taxon AS SELECT id, product_id, taxon_id, position FROM sylius_product_taxon');
        $this->addSql('DROP TABLE sylius_product_taxon');
        $this->addSql('CREATE TABLE sylius_product_taxon (id INTEGER NOT NULL, product_id INTEGER NOT NULL, taxon_id INTEGER NOT NULL, position INTEGER NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_169C6CD94584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_169C6CD9DE13F470 FOREIGN KEY (taxon_id) REFERENCES sylius_taxon (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_taxon (id, product_id, taxon_id, position) SELECT id, product_id, taxon_id, position FROM __temp__sylius_product_taxon');
        $this->addSql('DROP TABLE __temp__sylius_product_taxon');
        $this->addSql('CREATE INDEX IDX_169C6CD94584665A ON sylius_product_taxon (product_id)');
        $this->addSql('CREATE INDEX IDX_169C6CD9DE13F470 ON sylius_product_taxon (taxon_id)');
        $this->addSql('CREATE UNIQUE INDEX product_taxon_idx ON sylius_product_taxon (product_id, taxon_id)');
        $this->addSql('DROP INDEX IDX_105A9082C2AC5D3');
        $this->addSql('DROP INDEX UNIQ_105A9084180C698989D9B62');
        $this->addSql('DROP INDEX sylius_product_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_translation AS SELECT id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale FROM sylius_product_translation');
        $this->addSql('DROP TABLE sylius_product_translation');
        $this->addSql('CREATE TABLE sylius_product_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, slug VARCHAR(255) NOT NULL COLLATE BINARY, description CLOB DEFAULT NULL COLLATE BINARY, meta_keywords VARCHAR(255) DEFAULT NULL COLLATE BINARY, meta_description VARCHAR(255) DEFAULT NULL COLLATE BINARY, short_description CLOB DEFAULT NULL COLLATE BINARY, locale VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_105A9082C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_translation (id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale) SELECT id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale FROM __temp__sylius_product_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_translation');
        $this->addSql('CREATE INDEX IDX_105A9082C2AC5D3 ON sylius_product_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_105A9084180C698989D9B62 ON sylius_product_translation (locale, slug)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_translation_uniq_trans ON sylius_product_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_A29B52377153098');
        $this->addSql('DROP INDEX IDX_A29B5234584665A');
        $this->addSql('DROP INDEX IDX_A29B5239DF894ED');
        $this->addSql('DROP INDEX IDX_A29B5239E2D1A41');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant AS SELECT id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required FROM sylius_product_variant');
        $this->addSql('DROP TABLE sylius_product_variant');
        $this->addSql('CREATE TABLE sylius_product_variant (id INTEGER NOT NULL, product_id INTEGER NOT NULL, tax_category_id INTEGER DEFAULT NULL, shipping_category_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, position INTEGER NOT NULL, version INTEGER DEFAULT 1 NOT NULL, on_hold INTEGER NOT NULL, on_hand INTEGER NOT NULL, tracked BOOLEAN NOT NULL, width DOUBLE PRECISION DEFAULT NULL, height DOUBLE PRECISION DEFAULT NULL, depth DOUBLE PRECISION DEFAULT NULL, weight DOUBLE PRECISION DEFAULT NULL, shipping_required BOOLEAN NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_A29B5234584665A FOREIGN KEY (product_id) REFERENCES sylius_product (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_A29B5239DF894ED FOREIGN KEY (tax_category_id) REFERENCES sylius_tax_category (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_A29B5239E2D1A41 FOREIGN KEY (shipping_category_id) REFERENCES sylius_shipping_category (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_variant (id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required) SELECT id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required FROM __temp__sylius_product_variant');
        $this->addSql('DROP TABLE __temp__sylius_product_variant');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A29B52377153098 ON sylius_product_variant (code)');
        $this->addSql('CREATE INDEX IDX_A29B5234584665A ON sylius_product_variant (product_id)');
        $this->addSql('CREATE INDEX IDX_A29B5239DF894ED ON sylius_product_variant (tax_category_id)');
        $this->addSql('CREATE INDEX IDX_A29B5239E2D1A41 ON sylius_product_variant (shipping_category_id)');
        $this->addSql('DROP INDEX IDX_76CDAFA13B69A9AF');
        $this->addSql('DROP INDEX IDX_76CDAFA1D957CA06');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant_option_value AS SELECT variant_id, option_value_id FROM sylius_product_variant_option_value');
        $this->addSql('DROP TABLE sylius_product_variant_option_value');
        $this->addSql('CREATE TABLE sylius_product_variant_option_value (variant_id INTEGER NOT NULL, option_value_id INTEGER NOT NULL, PRIMARY KEY(variant_id, option_value_id), CONSTRAINT FK_76CDAFA13B69A9AF FOREIGN KEY (variant_id) REFERENCES sylius_product_variant (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_76CDAFA1D957CA06 FOREIGN KEY (option_value_id) REFERENCES sylius_product_option_value (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_product_variant_option_value (variant_id, option_value_id) SELECT variant_id, option_value_id FROM __temp__sylius_product_variant_option_value');
        $this->addSql('DROP TABLE __temp__sylius_product_variant_option_value');
        $this->addSql('CREATE INDEX IDX_76CDAFA13B69A9AF ON sylius_product_variant_option_value (variant_id)');
        $this->addSql('CREATE INDEX IDX_76CDAFA1D957CA06 ON sylius_product_variant_option_value (option_value_id)');
        $this->addSql('DROP INDEX IDX_1A044F64139DF194');
        $this->addSql('DROP INDEX IDX_1A044F6472F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_channels AS SELECT promotion_id, channel_id FROM sylius_promotion_channels');
        $this->addSql('DROP TABLE sylius_promotion_channels');
        $this->addSql('CREATE TABLE sylius_promotion_channels (promotion_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(promotion_id, channel_id), CONSTRAINT FK_1A044F64139DF194 FOREIGN KEY (promotion_id) REFERENCES sylius_promotion (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1A044F6472F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_promotion_channels (promotion_id, channel_id) SELECT promotion_id, channel_id FROM __temp__sylius_promotion_channels');
        $this->addSql('DROP TABLE __temp__sylius_promotion_channels');
        $this->addSql('CREATE INDEX IDX_1A044F64139DF194 ON sylius_promotion_channels (promotion_id)');
        $this->addSql('CREATE INDEX IDX_1A044F6472F5A1AA ON sylius_promotion_channels (channel_id)');
        $this->addSql('DROP INDEX UNIQ_B04EBA8577153098');
        $this->addSql('DROP INDEX IDX_B04EBA85139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_coupon AS SELECT id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit FROM sylius_promotion_coupon');
        $this->addSql('DROP TABLE sylius_promotion_coupon');
        $this->addSql('CREATE TABLE sylius_promotion_coupon (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, usage_limit INTEGER DEFAULT NULL, used INTEGER NOT NULL, expires_at DATETIME DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, per_customer_usage_limit INTEGER DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_B04EBA85139DF194 FOREIGN KEY (promotion_id) REFERENCES sylius_promotion (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_promotion_coupon (id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit) SELECT id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit FROM __temp__sylius_promotion_coupon');
        $this->addSql('DROP TABLE __temp__sylius_promotion_coupon');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B04EBA8577153098 ON sylius_promotion_coupon (code)');
        $this->addSql('CREATE INDEX IDX_B04EBA85139DF194 ON sylius_promotion_coupon (promotion_id)');
        $this->addSql('DROP INDEX IDX_FD707B3319883967');
        $this->addSql('DROP INDEX IDX_FD707B338D9F6D38');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipment AS SELECT id, method_id, order_id, state, tracking, created_at, updated_at FROM sylius_shipment');
        $this->addSql('DROP TABLE sylius_shipment');
        $this->addSql('CREATE TABLE sylius_shipment (id INTEGER NOT NULL, method_id INTEGER NOT NULL, order_id INTEGER NOT NULL, state VARCHAR(255) NOT NULL COLLATE BINARY, tracking VARCHAR(255) DEFAULT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_FD707B3319883967 FOREIGN KEY (method_id) REFERENCES sylius_shipping_method (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_FD707B338D9F6D38 FOREIGN KEY (order_id) REFERENCES sylius_order (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_shipment (id, method_id, order_id, state, tracking, created_at, updated_at) SELECT id, method_id, order_id, state, tracking, created_at, updated_at FROM __temp__sylius_shipment');
        $this->addSql('DROP TABLE __temp__sylius_shipment');
        $this->addSql('CREATE INDEX IDX_FD707B3319883967 ON sylius_shipment (method_id)');
        $this->addSql('CREATE INDEX IDX_FD707B338D9F6D38 ON sylius_shipment (order_id)');
        $this->addSql('DROP INDEX UNIQ_5FB0EE1177153098');
        $this->addSql('DROP INDEX IDX_5FB0EE1112469DE2');
        $this->addSql('DROP INDEX IDX_5FB0EE119F2C3FAB');
        $this->addSql('DROP INDEX IDX_5FB0EE119DF894ED');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method AS SELECT id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at FROM sylius_shipping_method');
        $this->addSql('DROP TABLE sylius_shipping_method');
        $this->addSql('CREATE TABLE sylius_shipping_method (id INTEGER NOT NULL, category_id INTEGER DEFAULT NULL, zone_id INTEGER NOT NULL, tax_category_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, configuration CLOB NOT NULL COLLATE BINARY --(DC2Type:array)
        , category_requirement INTEGER NOT NULL, calculator VARCHAR(255) NOT NULL COLLATE BINARY, is_enabled BOOLEAN NOT NULL, position INTEGER NOT NULL, archived_at DATETIME DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_5FB0EE1112469DE2 FOREIGN KEY (category_id) REFERENCES sylius_shipping_category (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_5FB0EE119F2C3FAB FOREIGN KEY (zone_id) REFERENCES sylius_zone (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_5FB0EE119DF894ED FOREIGN KEY (tax_category_id) REFERENCES sylius_tax_category (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_shipping_method (id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at) SELECT id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at FROM __temp__sylius_shipping_method');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_5FB0EE1177153098 ON sylius_shipping_method (code)');
        $this->addSql('CREATE INDEX IDX_5FB0EE1112469DE2 ON sylius_shipping_method (category_id)');
        $this->addSql('CREATE INDEX IDX_5FB0EE119F2C3FAB ON sylius_shipping_method (zone_id)');
        $this->addSql('CREATE INDEX IDX_5FB0EE119DF894ED ON sylius_shipping_method (tax_category_id)');
        $this->addSql('DROP INDEX IDX_2D9833355F7D6850');
        $this->addSql('DROP INDEX IDX_2D98333572F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method_channels AS SELECT shipping_method_id, channel_id FROM sylius_shipping_method_channels');
        $this->addSql('DROP TABLE sylius_shipping_method_channels');
        $this->addSql('CREATE TABLE sylius_shipping_method_channels (shipping_method_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(shipping_method_id, channel_id), CONSTRAINT FK_2D9833355F7D6850 FOREIGN KEY (shipping_method_id) REFERENCES sylius_shipping_method (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_2D98333572F5A1AA FOREIGN KEY (channel_id) REFERENCES sylius_channel (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_shipping_method_channels (shipping_method_id, channel_id) SELECT shipping_method_id, channel_id FROM __temp__sylius_shipping_method_channels');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method_channels');
        $this->addSql('CREATE INDEX IDX_2D9833355F7D6850 ON sylius_shipping_method_channels (shipping_method_id)');
        $this->addSql('CREATE INDEX IDX_2D98333572F5A1AA ON sylius_shipping_method_channels (channel_id)');
        $this->addSql('DROP INDEX UNIQ_7C2B74809395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shop_user AS SELECT id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at FROM sylius_shop_user');
        $this->addSql('DROP TABLE sylius_shop_user');
        $this->addSql('CREATE TABLE sylius_shop_user (id INTEGER NOT NULL, customer_id INTEGER NOT NULL, username VARCHAR(255) DEFAULT NULL COLLATE BINARY, username_canonical VARCHAR(255) DEFAULT NULL COLLATE BINARY, enabled BOOLEAN NOT NULL, salt VARCHAR(255) NOT NULL COLLATE BINARY, password VARCHAR(255) NOT NULL COLLATE BINARY, last_login DATETIME DEFAULT NULL, password_reset_token VARCHAR(255) DEFAULT NULL COLLATE BINARY, password_requested_at DATETIME DEFAULT NULL, email_verification_token VARCHAR(255) DEFAULT NULL COLLATE BINARY, verified_at DATETIME DEFAULT NULL, locked BOOLEAN NOT NULL, expires_at DATETIME DEFAULT NULL, credentials_expire_at DATETIME DEFAULT NULL, roles CLOB NOT NULL COLLATE BINARY --(DC2Type:array)
        , email VARCHAR(255) DEFAULT NULL COLLATE BINARY, email_canonical VARCHAR(255) DEFAULT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_7C2B74809395C3F3 FOREIGN KEY (customer_id) REFERENCES sylius_customer (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_shop_user (id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at) SELECT id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at FROM __temp__sylius_shop_user');
        $this->addSql('DROP TABLE __temp__sylius_shop_user');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7C2B74809395C3F3 ON sylius_shop_user (customer_id)');
        $this->addSql('DROP INDEX UNIQ_CFD811CA77153098');
        $this->addSql('DROP INDEX IDX_CFD811CAA977936C');
        $this->addSql('DROP INDEX IDX_CFD811CA727ACA70');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon AS SELECT id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at FROM sylius_taxon');
        $this->addSql('DROP TABLE sylius_taxon');
        $this->addSql('CREATE TABLE sylius_taxon (id INTEGER NOT NULL, tree_root INTEGER DEFAULT NULL, parent_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, tree_left INTEGER NOT NULL, tree_right INTEGER NOT NULL, tree_level INTEGER NOT NULL, position INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_CFD811CAA977936C FOREIGN KEY (tree_root) REFERENCES sylius_taxon (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CFD811CA727ACA70 FOREIGN KEY (parent_id) REFERENCES sylius_taxon (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_taxon (id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at) SELECT id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at FROM __temp__sylius_taxon');
        $this->addSql('DROP TABLE __temp__sylius_taxon');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CFD811CA77153098 ON sylius_taxon (code)');
        $this->addSql('CREATE INDEX IDX_CFD811CAA977936C ON sylius_taxon (tree_root)');
        $this->addSql('CREATE INDEX IDX_CFD811CA727ACA70 ON sylius_taxon (parent_id)');
        $this->addSql('DROP INDEX IDX_DBE52B287E3C61F9');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon_image AS SELECT id, owner_id, type, path FROM sylius_taxon_image');
        $this->addSql('DROP TABLE sylius_taxon_image');
        $this->addSql('CREATE TABLE sylius_taxon_image (id INTEGER NOT NULL, owner_id INTEGER NOT NULL, type VARCHAR(255) DEFAULT NULL COLLATE BINARY, path VARCHAR(255) NOT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_DBE52B287E3C61F9 FOREIGN KEY (owner_id) REFERENCES sylius_taxon (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_taxon_image (id, owner_id, type, path) SELECT id, owner_id, type, path FROM __temp__sylius_taxon_image');
        $this->addSql('DROP TABLE __temp__sylius_taxon_image');
        $this->addSql('CREATE INDEX IDX_DBE52B287E3C61F9 ON sylius_taxon_image (owner_id)');
        $this->addSql('DROP INDEX UNIQ_3CD86B2E77153098');
        $this->addSql('DROP INDEX IDX_3CD86B2E12469DE2');
        $this->addSql('DROP INDEX IDX_3CD86B2E9F2C3FAB');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_tax_rate AS SELECT id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at FROM sylius_tax_rate');
        $this->addSql('DROP TABLE sylius_tax_rate');
        $this->addSql('CREATE TABLE sylius_tax_rate (id INTEGER NOT NULL, category_id INTEGER NOT NULL, zone_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL COLLATE BINARY, name VARCHAR(255) NOT NULL COLLATE BINARY, amount NUMERIC(10, 5) NOT NULL, included_in_price BOOLEAN NOT NULL, calculator VARCHAR(255) NOT NULL COLLATE BINARY, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id), CONSTRAINT FK_3CD86B2E12469DE2 FOREIGN KEY (category_id) REFERENCES sylius_tax_category (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_3CD86B2E9F2C3FAB FOREIGN KEY (zone_id) REFERENCES sylius_zone (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_tax_rate (id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at) SELECT id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at FROM __temp__sylius_tax_rate');
        $this->addSql('DROP TABLE __temp__sylius_tax_rate');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_3CD86B2E77153098 ON sylius_tax_rate (code)');
        $this->addSql('CREATE INDEX IDX_3CD86B2E12469DE2 ON sylius_tax_rate (category_id)');
        $this->addSql('CREATE INDEX IDX_3CD86B2E9F2C3FAB ON sylius_tax_rate (zone_id)');
        $this->addSql('DROP INDEX UNIQ_2AA4915D5F37A13B');
        $this->addSql('DROP INDEX IDX_2AA4915D19EB6921');
        $this->addSql('DROP INDEX IDX_2AA4915DA76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_access_token AS SELECT id, client_id, user_id, token, expires_at, scope FROM sylius_admin_api_access_token');
        $this->addSql('DROP TABLE sylius_admin_api_access_token');
        $this->addSql('CREATE TABLE sylius_admin_api_access_token (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL COLLATE BINARY, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_2AA4915D19EB6921 FOREIGN KEY (client_id) REFERENCES sylius_admin_api_client (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_2AA4915DA76ED395 FOREIGN KEY (user_id) REFERENCES sylius_admin_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_admin_api_access_token (id, client_id, user_id, token, expires_at, scope) SELECT id, client_id, user_id, token, expires_at, scope FROM __temp__sylius_admin_api_access_token');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_access_token');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_2AA4915D5F37A13B ON sylius_admin_api_access_token (token)');
        $this->addSql('CREATE INDEX IDX_2AA4915D19EB6921 ON sylius_admin_api_access_token (client_id)');
        $this->addSql('CREATE INDEX IDX_2AA4915DA76ED395 ON sylius_admin_api_access_token (user_id)');
        $this->addSql('DROP INDEX UNIQ_9160E3FA5F37A13B');
        $this->addSql('DROP INDEX IDX_9160E3FA19EB6921');
        $this->addSql('DROP INDEX IDX_9160E3FAA76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_refresh_token AS SELECT id, client_id, user_id, token, expires_at, scope FROM sylius_admin_api_refresh_token');
        $this->addSql('DROP TABLE sylius_admin_api_refresh_token');
        $this->addSql('CREATE TABLE sylius_admin_api_refresh_token (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL COLLATE BINARY, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_9160E3FA19EB6921 FOREIGN KEY (client_id) REFERENCES sylius_admin_api_client (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_9160E3FAA76ED395 FOREIGN KEY (user_id) REFERENCES sylius_admin_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_admin_api_refresh_token (id, client_id, user_id, token, expires_at, scope) SELECT id, client_id, user_id, token, expires_at, scope FROM __temp__sylius_admin_api_refresh_token');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_refresh_token');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_9160E3FA5F37A13B ON sylius_admin_api_refresh_token (token)');
        $this->addSql('CREATE INDEX IDX_9160E3FA19EB6921 ON sylius_admin_api_refresh_token (client_id)');
        $this->addSql('CREATE INDEX IDX_9160E3FAA76ED395 ON sylius_admin_api_refresh_token (user_id)');
        $this->addSql('DROP INDEX UNIQ_E366D8485F37A13B');
        $this->addSql('DROP INDEX IDX_E366D84819EB6921');
        $this->addSql('DROP INDEX IDX_E366D848A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_auth_code AS SELECT id, client_id, user_id, token, redirect_uri, expires_at, scope FROM sylius_admin_api_auth_code');
        $this->addSql('DROP TABLE sylius_admin_api_auth_code');
        $this->addSql('CREATE TABLE sylius_admin_api_auth_code (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL COLLATE BINARY, redirect_uri CLOB NOT NULL COLLATE BINARY, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL COLLATE BINARY, PRIMARY KEY(id), CONSTRAINT FK_E366D84819EB6921 FOREIGN KEY (client_id) REFERENCES sylius_admin_api_client (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_E366D848A76ED395 FOREIGN KEY (user_id) REFERENCES sylius_admin_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO sylius_admin_api_auth_code (id, client_id, user_id, token, redirect_uri, expires_at, scope) SELECT id, client_id, user_id, token, redirect_uri, expires_at, scope FROM __temp__sylius_admin_api_auth_code');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_auth_code');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_E366D8485F37A13B ON sylius_admin_api_auth_code (token)');
        $this->addSql('CREATE INDEX IDX_E366D84819EB6921 ON sylius_admin_api_auth_code (client_id)');
        $this->addSql('CREATE INDEX IDX_E366D848A76ED395 ON sylius_admin_api_auth_code (user_id)');
    }

    public function down(Schema $schema) : void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'sqlite', 'Migration can only be executed safely on \'sqlite\'.');

        $this->addSql('DROP TABLE Comparer');
        $this->addSql('DROP INDEX IDX_B97FF0589395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_address AS SELECT id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name FROM sylius_address');
        $this->addSql('DROP TABLE sylius_address');
        $this->addSql('CREATE TABLE sylius_address (id INTEGER NOT NULL, customer_id INTEGER DEFAULT NULL, first_name VARCHAR(255) NOT NULL, last_name VARCHAR(255) NOT NULL, phone_number VARCHAR(255) DEFAULT NULL, street VARCHAR(255) NOT NULL, company VARCHAR(255) DEFAULT NULL, city VARCHAR(255) NOT NULL, postcode VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, country_code VARCHAR(255) NOT NULL, province_code VARCHAR(255) DEFAULT NULL, province_name VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_address (id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name) SELECT id, customer_id, first_name, last_name, phone_number, street, company, city, postcode, created_at, updated_at, country_code, province_code, province_name FROM __temp__sylius_address');
        $this->addSql('DROP TABLE __temp__sylius_address');
        $this->addSql('CREATE INDEX IDX_B97FF0589395C3F3 ON sylius_address (customer_id)');
        $this->addSql('DROP INDEX IDX_ACA6E0F28D9F6D38');
        $this->addSql('DROP INDEX IDX_ACA6E0F2E415FB15');
        $this->addSql('DROP INDEX IDX_ACA6E0F2F720C233');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_adjustment AS SELECT id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at FROM sylius_adjustment');
        $this->addSql('DROP TABLE sylius_adjustment');
        $this->addSql('CREATE TABLE sylius_adjustment (id INTEGER NOT NULL, order_id INTEGER DEFAULT NULL, order_item_id INTEGER DEFAULT NULL, order_item_unit_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL, label VARCHAR(255) DEFAULT NULL, amount INTEGER NOT NULL, is_neutral BOOLEAN NOT NULL, is_locked BOOLEAN NOT NULL, origin_code VARCHAR(255) DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_adjustment (id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at) SELECT id, order_id, order_item_id, order_item_unit_id, type, label, amount, is_neutral, is_locked, origin_code, created_at, updated_at FROM __temp__sylius_adjustment');
        $this->addSql('DROP TABLE __temp__sylius_adjustment');
        $this->addSql('CREATE INDEX IDX_ACA6E0F28D9F6D38 ON sylius_adjustment (order_id)');
        $this->addSql('CREATE INDEX IDX_ACA6E0F2E415FB15 ON sylius_adjustment (order_item_id)');
        $this->addSql('CREATE INDEX IDX_ACA6E0F2F720C233 ON sylius_adjustment (order_item_unit_id)');
        $this->addSql('DROP INDEX UNIQ_2AA4915D5F37A13B');
        $this->addSql('DROP INDEX IDX_2AA4915D19EB6921');
        $this->addSql('DROP INDEX IDX_2AA4915DA76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_access_token AS SELECT id, client_id, user_id, token, expires_at, scope FROM sylius_admin_api_access_token');
        $this->addSql('DROP TABLE sylius_admin_api_access_token');
        $this->addSql('CREATE TABLE sylius_admin_api_access_token (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_admin_api_access_token (id, client_id, user_id, token, expires_at, scope) SELECT id, client_id, user_id, token, expires_at, scope FROM __temp__sylius_admin_api_access_token');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_access_token');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_2AA4915D5F37A13B ON sylius_admin_api_access_token (token)');
        $this->addSql('CREATE INDEX IDX_2AA4915D19EB6921 ON sylius_admin_api_access_token (client_id)');
        $this->addSql('CREATE INDEX IDX_2AA4915DA76ED395 ON sylius_admin_api_access_token (user_id)');
        $this->addSql('DROP INDEX UNIQ_E366D8485F37A13B');
        $this->addSql('DROP INDEX IDX_E366D84819EB6921');
        $this->addSql('DROP INDEX IDX_E366D848A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_auth_code AS SELECT id, client_id, user_id, token, redirect_uri, expires_at, scope FROM sylius_admin_api_auth_code');
        $this->addSql('DROP TABLE sylius_admin_api_auth_code');
        $this->addSql('CREATE TABLE sylius_admin_api_auth_code (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL, redirect_uri CLOB NOT NULL, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_admin_api_auth_code (id, client_id, user_id, token, redirect_uri, expires_at, scope) SELECT id, client_id, user_id, token, redirect_uri, expires_at, scope FROM __temp__sylius_admin_api_auth_code');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_auth_code');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_E366D8485F37A13B ON sylius_admin_api_auth_code (token)');
        $this->addSql('CREATE INDEX IDX_E366D84819EB6921 ON sylius_admin_api_auth_code (client_id)');
        $this->addSql('CREATE INDEX IDX_E366D848A76ED395 ON sylius_admin_api_auth_code (user_id)');
        $this->addSql('DROP INDEX UNIQ_9160E3FA5F37A13B');
        $this->addSql('DROP INDEX IDX_9160E3FA19EB6921');
        $this->addSql('DROP INDEX IDX_9160E3FAA76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_admin_api_refresh_token AS SELECT id, client_id, user_id, token, expires_at, scope FROM sylius_admin_api_refresh_token');
        $this->addSql('DROP TABLE sylius_admin_api_refresh_token');
        $this->addSql('CREATE TABLE sylius_admin_api_refresh_token (id INTEGER NOT NULL, client_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, token VARCHAR(255) NOT NULL, expires_at INTEGER DEFAULT NULL, scope VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_admin_api_refresh_token (id, client_id, user_id, token, expires_at, scope) SELECT id, client_id, user_id, token, expires_at, scope FROM __temp__sylius_admin_api_refresh_token');
        $this->addSql('DROP TABLE __temp__sylius_admin_api_refresh_token');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_9160E3FA5F37A13B ON sylius_admin_api_refresh_token (token)');
        $this->addSql('CREATE INDEX IDX_9160E3FA19EB6921 ON sylius_admin_api_refresh_token (client_id)');
        $this->addSql('CREATE INDEX IDX_9160E3FAA76ED395 ON sylius_admin_api_refresh_token (user_id)');
        $this->addSql('DROP INDEX UNIQ_16C8119E77153098');
        $this->addSql('DROP INDEX IDX_16C8119E743BF776');
        $this->addSql('DROP INDEX IDX_16C8119E3101778E');
        $this->addSql('DROP INDEX IDX_16C8119EA978C17');
        $this->addSql('DROP INDEX IDX_16C8119EE551C011');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel AS SELECT id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required FROM sylius_channel');
        $this->addSql('DROP TABLE sylius_channel');
        $this->addSql('CREATE TABLE sylius_channel (id INTEGER NOT NULL, default_locale_id INTEGER NOT NULL, base_currency_id INTEGER NOT NULL, default_tax_zone_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, color VARCHAR(255) DEFAULT NULL, description CLOB DEFAULT NULL, enabled BOOLEAN NOT NULL, hostname VARCHAR(255) DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, theme_name VARCHAR(255) DEFAULT NULL, tax_calculation_strategy VARCHAR(255) NOT NULL, contact_email VARCHAR(255) DEFAULT NULL, skipping_shipping_step_allowed BOOLEAN NOT NULL, skipping_payment_step_allowed BOOLEAN NOT NULL, account_verification_required BOOLEAN NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_channel (id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required) SELECT id, default_locale_id, base_currency_id, default_tax_zone_id, code, name, color, description, enabled, hostname, created_at, updated_at, theme_name, tax_calculation_strategy, contact_email, skipping_shipping_step_allowed, skipping_payment_step_allowed, account_verification_required FROM __temp__sylius_channel');
        $this->addSql('DROP TABLE __temp__sylius_channel');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_16C8119E77153098 ON sylius_channel (code)');
        $this->addSql('CREATE INDEX IDX_16C8119E743BF776 ON sylius_channel (default_locale_id)');
        $this->addSql('CREATE INDEX IDX_16C8119E3101778E ON sylius_channel (base_currency_id)');
        $this->addSql('CREATE INDEX IDX_16C8119EA978C17 ON sylius_channel (default_tax_zone_id)');
        $this->addSql('CREATE INDEX IDX_16C8119EE551C011 ON sylius_channel (hostname)');
        $this->addSql('DROP INDEX IDX_AE491F9372F5A1AA');
        $this->addSql('DROP INDEX IDX_AE491F9338248176');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_currencies AS SELECT channel_id, currency_id FROM sylius_channel_currencies');
        $this->addSql('DROP TABLE sylius_channel_currencies');
        $this->addSql('CREATE TABLE sylius_channel_currencies (channel_id INTEGER NOT NULL, currency_id INTEGER NOT NULL, PRIMARY KEY(channel_id, currency_id))');
        $this->addSql('INSERT INTO sylius_channel_currencies (channel_id, currency_id) SELECT channel_id, currency_id FROM __temp__sylius_channel_currencies');
        $this->addSql('DROP TABLE __temp__sylius_channel_currencies');
        $this->addSql('CREATE INDEX IDX_AE491F9372F5A1AA ON sylius_channel_currencies (channel_id)');
        $this->addSql('CREATE INDEX IDX_AE491F9338248176 ON sylius_channel_currencies (currency_id)');
        $this->addSql('DROP INDEX IDX_786B7A8472F5A1AA');
        $this->addSql('DROP INDEX IDX_786B7A84E559DFD1');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_locales AS SELECT channel_id, locale_id FROM sylius_channel_locales');
        $this->addSql('DROP TABLE sylius_channel_locales');
        $this->addSql('CREATE TABLE sylius_channel_locales (channel_id INTEGER NOT NULL, locale_id INTEGER NOT NULL, PRIMARY KEY(channel_id, locale_id))');
        $this->addSql('INSERT INTO sylius_channel_locales (channel_id, locale_id) SELECT channel_id, locale_id FROM __temp__sylius_channel_locales');
        $this->addSql('DROP TABLE __temp__sylius_channel_locales');
        $this->addSql('CREATE INDEX IDX_786B7A8472F5A1AA ON sylius_channel_locales (channel_id)');
        $this->addSql('CREATE INDEX IDX_786B7A84E559DFD1 ON sylius_channel_locales (locale_id)');
        $this->addSql('DROP INDEX IDX_7801820CA80EF684');
        $this->addSql('DROP INDEX product_variant_channel_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_channel_pricing AS SELECT id, product_variant_id, price, original_price, channel_code FROM sylius_channel_pricing');
        $this->addSql('DROP TABLE sylius_channel_pricing');
        $this->addSql('CREATE TABLE sylius_channel_pricing (id INTEGER NOT NULL, product_variant_id INTEGER NOT NULL, price INTEGER NOT NULL, original_price INTEGER DEFAULT NULL, channel_code VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_channel_pricing (id, product_variant_id, price, original_price, channel_code) SELECT id, product_variant_id, price, original_price, channel_code FROM __temp__sylius_channel_pricing');
        $this->addSql('DROP TABLE __temp__sylius_channel_pricing');
        $this->addSql('CREATE INDEX IDX_7801820CA80EF684 ON sylius_channel_pricing (product_variant_id)');
        $this->addSql('CREATE UNIQUE INDEX product_variant_channel_idx ON sylius_channel_pricing (product_variant_id, channel_code)');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6E7927C74');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6A0D96FBF');
        $this->addSql('DROP INDEX IDX_7E82D5E6D2919A68');
        $this->addSql('DROP INDEX UNIQ_7E82D5E6BD94FB16');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_customer AS SELECT id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter FROM sylius_customer');
        $this->addSql('DROP TABLE sylius_customer');
        $this->addSql('CREATE TABLE sylius_customer (id INTEGER NOT NULL, customer_group_id INTEGER DEFAULT NULL, default_address_id INTEGER DEFAULT NULL, email VARCHAR(255) NOT NULL, email_canonical VARCHAR(255) NOT NULL, first_name VARCHAR(255) DEFAULT NULL, last_name VARCHAR(255) DEFAULT NULL, birthday DATETIME DEFAULT NULL, gender VARCHAR(1) DEFAULT \'u\' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, phone_number VARCHAR(255) DEFAULT NULL, subscribed_to_newsletter BOOLEAN NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_customer (id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter) SELECT id, customer_group_id, default_address_id, email, email_canonical, first_name, last_name, birthday, gender, created_at, updated_at, phone_number, subscribed_to_newsletter FROM __temp__sylius_customer');
        $this->addSql('DROP TABLE __temp__sylius_customer');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6E7927C74 ON sylius_customer (email)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6A0D96FBF ON sylius_customer (email_canonical)');
        $this->addSql('CREATE INDEX IDX_7E82D5E6D2919A68 ON sylius_customer (customer_group_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E82D5E6BD94FB16 ON sylius_customer (default_address_id)');
        $this->addSql('DROP INDEX IDX_5F52B852A76BEED');
        $this->addSql('DROP INDEX IDX_5F52B85B3FD5856');
        $this->addSql('DROP INDEX UNIQ_5F52B852A76BEEDB3FD5856');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_exchange_rate AS SELECT id, source_currency, target_currency, ratio, created_at, updated_at FROM sylius_exchange_rate');
        $this->addSql('DROP TABLE sylius_exchange_rate');
        $this->addSql('CREATE TABLE sylius_exchange_rate (id INTEGER NOT NULL, source_currency INTEGER NOT NULL, target_currency INTEGER NOT NULL, ratio NUMERIC(10, 5) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_exchange_rate (id, source_currency, target_currency, ratio, created_at, updated_at) SELECT id, source_currency, target_currency, ratio, created_at, updated_at FROM __temp__sylius_exchange_rate');
        $this->addSql('DROP TABLE __temp__sylius_exchange_rate');
        $this->addSql('CREATE INDEX IDX_5F52B852A76BEED ON sylius_exchange_rate (source_currency)');
        $this->addSql('CREATE INDEX IDX_5F52B85B3FD5856 ON sylius_exchange_rate (target_currency)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_5F52B852A76BEEDB3FD5856 ON sylius_exchange_rate (source_currency, target_currency)');
        $this->addSql('DROP INDEX UNIQ_6196A1F996901F54');
        $this->addSql('DROP INDEX UNIQ_6196A1F94D4CFF2B');
        $this->addSql('DROP INDEX UNIQ_6196A1F979D0C0E4');
        $this->addSql('DROP INDEX IDX_6196A1F972F5A1AA');
        $this->addSql('DROP INDEX IDX_6196A1F917B24436');
        $this->addSql('DROP INDEX IDX_6196A1F99395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order AS SELECT id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip FROM sylius_order');
        $this->addSql('DROP TABLE sylius_order');
        $this->addSql('CREATE TABLE sylius_order (id INTEGER NOT NULL, shipping_address_id INTEGER DEFAULT NULL, billing_address_id INTEGER DEFAULT NULL, channel_id INTEGER DEFAULT NULL, promotion_coupon_id INTEGER DEFAULT NULL, customer_id INTEGER DEFAULT NULL, number VARCHAR(255) DEFAULT NULL, notes CLOB DEFAULT NULL, state VARCHAR(255) NOT NULL, checkout_completed_at DATETIME DEFAULT NULL, items_total INTEGER NOT NULL, adjustments_total INTEGER NOT NULL, total INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, currency_code VARCHAR(3) NOT NULL, locale_code VARCHAR(255) NOT NULL, checkout_state VARCHAR(255) NOT NULL, payment_state VARCHAR(255) NOT NULL, shipping_state VARCHAR(255) NOT NULL, token_value VARCHAR(255) DEFAULT NULL, customer_ip VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_order (id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip) SELECT id, shipping_address_id, billing_address_id, channel_id, promotion_coupon_id, customer_id, number, notes, state, checkout_completed_at, items_total, adjustments_total, total, created_at, updated_at, currency_code, locale_code, checkout_state, payment_state, shipping_state, token_value, customer_ip FROM __temp__sylius_order');
        $this->addSql('DROP TABLE __temp__sylius_order');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F996901F54 ON sylius_order (number)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F94D4CFF2B ON sylius_order (shipping_address_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6196A1F979D0C0E4 ON sylius_order (billing_address_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F972F5A1AA ON sylius_order (channel_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F917B24436 ON sylius_order (promotion_coupon_id)');
        $this->addSql('CREATE INDEX IDX_6196A1F99395C3F3 ON sylius_order (customer_id)');
        $this->addSql('DROP INDEX IDX_77B587ED8D9F6D38');
        $this->addSql('DROP INDEX IDX_77B587ED3B69A9AF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order_item AS SELECT id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name FROM sylius_order_item');
        $this->addSql('DROP TABLE sylius_order_item');
        $this->addSql('CREATE TABLE sylius_order_item (id INTEGER NOT NULL, order_id INTEGER NOT NULL, variant_id INTEGER NOT NULL, quantity INTEGER NOT NULL, unit_price INTEGER NOT NULL, units_total INTEGER NOT NULL, adjustments_total INTEGER NOT NULL, total INTEGER NOT NULL, is_immutable BOOLEAN NOT NULL, product_name VARCHAR(255) DEFAULT NULL, variant_name VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_order_item (id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name) SELECT id, order_id, variant_id, quantity, unit_price, units_total, adjustments_total, total, is_immutable, product_name, variant_name FROM __temp__sylius_order_item');
        $this->addSql('DROP TABLE __temp__sylius_order_item');
        $this->addSql('CREATE INDEX IDX_77B587ED8D9F6D38 ON sylius_order_item (order_id)');
        $this->addSql('CREATE INDEX IDX_77B587ED3B69A9AF ON sylius_order_item (variant_id)');
        $this->addSql('DROP INDEX IDX_82BF226EE415FB15');
        $this->addSql('DROP INDEX IDX_82BF226E7BE036FC');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_order_item_unit AS SELECT id, order_item_id, shipment_id, adjustments_total, created_at, updated_at FROM sylius_order_item_unit');
        $this->addSql('DROP TABLE sylius_order_item_unit');
        $this->addSql('CREATE TABLE sylius_order_item_unit (id INTEGER NOT NULL, order_item_id INTEGER NOT NULL, shipment_id INTEGER DEFAULT NULL, adjustments_total INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_order_item_unit (id, order_item_id, shipment_id, adjustments_total, created_at, updated_at) SELECT id, order_item_id, shipment_id, adjustments_total, created_at, updated_at FROM __temp__sylius_order_item_unit');
        $this->addSql('DROP TABLE __temp__sylius_order_item_unit');
        $this->addSql('CREATE INDEX IDX_82BF226EE415FB15 ON sylius_order_item_unit (order_item_id)');
        $this->addSql('CREATE INDEX IDX_82BF226E7BE036FC ON sylius_order_item_unit (shipment_id)');
        $this->addSql('DROP INDEX IDX_D9191BD419883967');
        $this->addSql('DROP INDEX IDX_D9191BD48D9F6D38');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment AS SELECT id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at FROM sylius_payment');
        $this->addSql('DROP TABLE sylius_payment');
        $this->addSql('CREATE TABLE sylius_payment (id INTEGER NOT NULL, method_id INTEGER DEFAULT NULL, order_id INTEGER NOT NULL, currency_code VARCHAR(3) NOT NULL, amount INTEGER NOT NULL, state VARCHAR(255) NOT NULL, details CLOB NOT NULL --(DC2Type:json_array)
        , created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_payment (id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at) SELECT id, method_id, order_id, currency_code, amount, state, details, created_at, updated_at FROM __temp__sylius_payment');
        $this->addSql('DROP TABLE __temp__sylius_payment');
        $this->addSql('CREATE INDEX IDX_D9191BD419883967 ON sylius_payment (method_id)');
        $this->addSql('CREATE INDEX IDX_D9191BD48D9F6D38 ON sylius_payment (order_id)');
        $this->addSql('DROP INDEX UNIQ_A75B0B0D77153098');
        $this->addSql('DROP INDEX IDX_A75B0B0DF23D6140');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method AS SELECT id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at FROM sylius_payment_method');
        $this->addSql('DROP TABLE sylius_payment_method');
        $this->addSql('CREATE TABLE sylius_payment_method (id INTEGER NOT NULL, gateway_config_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, environment VARCHAR(255) DEFAULT NULL, is_enabled BOOLEAN NOT NULL, position INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_payment_method (id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at) SELECT id, gateway_config_id, code, environment, is_enabled, position, created_at, updated_at FROM __temp__sylius_payment_method');
        $this->addSql('DROP TABLE __temp__sylius_payment_method');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A75B0B0D77153098 ON sylius_payment_method (code)');
        $this->addSql('CREATE INDEX IDX_A75B0B0DF23D6140 ON sylius_payment_method (gateway_config_id)');
        $this->addSql('DROP INDEX IDX_543AC0CC5AA1164F');
        $this->addSql('DROP INDEX IDX_543AC0CC72F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method_channels AS SELECT payment_method_id, channel_id FROM sylius_payment_method_channels');
        $this->addSql('DROP TABLE sylius_payment_method_channels');
        $this->addSql('CREATE TABLE sylius_payment_method_channels (payment_method_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(payment_method_id, channel_id))');
        $this->addSql('INSERT INTO sylius_payment_method_channels (payment_method_id, channel_id) SELECT payment_method_id, channel_id FROM __temp__sylius_payment_method_channels');
        $this->addSql('DROP TABLE __temp__sylius_payment_method_channels');
        $this->addSql('CREATE INDEX IDX_543AC0CC5AA1164F ON sylius_payment_method_channels (payment_method_id)');
        $this->addSql('CREATE INDEX IDX_543AC0CC72F5A1AA ON sylius_payment_method_channels (channel_id)');
        $this->addSql('DROP INDEX IDX_966BE3A12C2AC5D3');
        $this->addSql('DROP INDEX sylius_payment_method_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_payment_method_translation AS SELECT id, translatable_id, name, description, instructions, locale FROM sylius_payment_method_translation');
        $this->addSql('DROP TABLE sylius_payment_method_translation');
        $this->addSql('CREATE TABLE sylius_payment_method_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, description CLOB DEFAULT NULL, instructions CLOB DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_payment_method_translation (id, translatable_id, name, description, instructions, locale) SELECT id, translatable_id, name, description, instructions, locale FROM __temp__sylius_payment_method_translation');
        $this->addSql('DROP TABLE __temp__sylius_payment_method_translation');
        $this->addSql('CREATE INDEX IDX_966BE3A12C2AC5D3 ON sylius_payment_method_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_payment_method_translation_uniq_trans ON sylius_payment_method_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_677B9B7477153098');
        $this->addSql('DROP INDEX IDX_677B9B74731E505');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product AS SELECT id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating FROM sylius_product');
        $this->addSql('DROP TABLE sylius_product');
        $this->addSql('CREATE TABLE sylius_product (id INTEGER NOT NULL, main_taxon_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, enabled BOOLEAN NOT NULL, variant_selection_method VARCHAR(255) NOT NULL, average_rating DOUBLE PRECISION DEFAULT \'0\' NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product (id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating) SELECT id, main_taxon_id, code, created_at, updated_at, enabled, variant_selection_method, average_rating FROM __temp__sylius_product');
        $this->addSql('DROP TABLE __temp__sylius_product');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_677B9B7477153098 ON sylius_product (code)');
        $this->addSql('CREATE INDEX IDX_677B9B74731E505 ON sylius_product (main_taxon_id)');
        $this->addSql('DROP INDEX IDX_48E9CDABB1E1C39');
        $this->addSql('DROP INDEX IDX_48E9CDAB4584665A');
        $this->addSql('DROP INDEX product_association_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association AS SELECT id, association_type_id, product_id, created_at, updated_at FROM sylius_product_association');
        $this->addSql('DROP TABLE sylius_product_association');
        $this->addSql('CREATE TABLE sylius_product_association (id INTEGER NOT NULL, association_type_id INTEGER NOT NULL, product_id INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_association (id, association_type_id, product_id, created_at, updated_at) SELECT id, association_type_id, product_id, created_at, updated_at FROM __temp__sylius_product_association');
        $this->addSql('DROP TABLE __temp__sylius_product_association');
        $this->addSql('CREATE INDEX IDX_48E9CDABB1E1C39 ON sylius_product_association (association_type_id)');
        $this->addSql('CREATE INDEX IDX_48E9CDAB4584665A ON sylius_product_association (product_id)');
        $this->addSql('CREATE UNIQUE INDEX product_association_idx ON sylius_product_association (product_id, association_type_id)');
        $this->addSql('DROP INDEX IDX_A427B983EFB9C8A5');
        $this->addSql('DROP INDEX IDX_A427B9834584665A');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association_product AS SELECT association_id, product_id FROM sylius_product_association_product');
        $this->addSql('DROP TABLE sylius_product_association_product');
        $this->addSql('CREATE TABLE sylius_product_association_product (association_id INTEGER NOT NULL, product_id INTEGER NOT NULL, PRIMARY KEY(association_id, product_id))');
        $this->addSql('INSERT INTO sylius_product_association_product (association_id, product_id) SELECT association_id, product_id FROM __temp__sylius_product_association_product');
        $this->addSql('DROP TABLE __temp__sylius_product_association_product');
        $this->addSql('CREATE INDEX IDX_A427B983EFB9C8A5 ON sylius_product_association_product (association_id)');
        $this->addSql('CREATE INDEX IDX_A427B9834584665A ON sylius_product_association_product (product_id)');
        $this->addSql('DROP INDEX IDX_4F618E52C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_association_type_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_association_type_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_association_type_translation');
        $this->addSql('DROP TABLE sylius_product_association_type_translation');
        $this->addSql('CREATE TABLE sylius_product_association_type_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_association_type_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_association_type_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_association_type_translation');
        $this->addSql('CREATE INDEX IDX_4F618E52C2AC5D3 ON sylius_product_association_type_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_association_type_translation_uniq_trans ON sylius_product_association_type_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_93850EBA2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_attribute_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_attribute_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_attribute_translation');
        $this->addSql('DROP TABLE sylius_product_attribute_translation');
        $this->addSql('CREATE TABLE sylius_product_attribute_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_attribute_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_attribute_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_attribute_translation');
        $this->addSql('CREATE INDEX IDX_93850EBA2C2AC5D3 ON sylius_product_attribute_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_attribute_translation_uniq_trans ON sylius_product_attribute_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_8A053E544584665A');
        $this->addSql('DROP INDEX IDX_8A053E54B6E62EFA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_attribute_value AS SELECT id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value FROM sylius_product_attribute_value');
        $this->addSql('DROP TABLE sylius_product_attribute_value');
        $this->addSql('CREATE TABLE sylius_product_attribute_value (id INTEGER NOT NULL, product_id INTEGER NOT NULL, attribute_id INTEGER NOT NULL, locale_code VARCHAR(255) NOT NULL, text_value CLOB DEFAULT NULL, boolean_value BOOLEAN DEFAULT NULL, integer_value INTEGER DEFAULT NULL, float_value DOUBLE PRECISION DEFAULT NULL, datetime_value DATETIME DEFAULT NULL, date_value DATE DEFAULT NULL, json_value CLOB DEFAULT NULL --(DC2Type:json_array)
        , PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_attribute_value (id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value) SELECT id, product_id, attribute_id, locale_code, text_value, boolean_value, integer_value, float_value, datetime_value, date_value, json_value FROM __temp__sylius_product_attribute_value');
        $this->addSql('DROP TABLE __temp__sylius_product_attribute_value');
        $this->addSql('CREATE INDEX IDX_8A053E544584665A ON sylius_product_attribute_value (product_id)');
        $this->addSql('CREATE INDEX IDX_8A053E54B6E62EFA ON sylius_product_attribute_value (attribute_id)');
        $this->addSql('DROP INDEX IDX_F9EF269B4584665A');
        $this->addSql('DROP INDEX IDX_F9EF269B72F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_channels AS SELECT product_id, channel_id FROM sylius_product_channels');
        $this->addSql('DROP TABLE sylius_product_channels');
        $this->addSql('CREATE TABLE sylius_product_channels (product_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(product_id, channel_id))');
        $this->addSql('INSERT INTO sylius_product_channels (product_id, channel_id) SELECT product_id, channel_id FROM __temp__sylius_product_channels');
        $this->addSql('DROP TABLE __temp__sylius_product_channels');
        $this->addSql('CREATE INDEX IDX_F9EF269B4584665A ON sylius_product_channels (product_id)');
        $this->addSql('CREATE INDEX IDX_F9EF269B72F5A1AA ON sylius_product_channels (channel_id)');
        $this->addSql('DROP INDEX IDX_88C64B2D7E3C61F9');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_image AS SELECT id, owner_id, type, path FROM sylius_product_image');
        $this->addSql('DROP TABLE sylius_product_image');
        $this->addSql('CREATE TABLE sylius_product_image (id INTEGER NOT NULL, owner_id INTEGER NOT NULL, type VARCHAR(255) DEFAULT NULL, path VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_image (id, owner_id, type, path) SELECT id, owner_id, type, path FROM __temp__sylius_product_image');
        $this->addSql('DROP TABLE __temp__sylius_product_image');
        $this->addSql('CREATE INDEX IDX_88C64B2D7E3C61F9 ON sylius_product_image (owner_id)');
        $this->addSql('DROP INDEX IDX_8FFDAE8D3DA5256D');
        $this->addSql('DROP INDEX IDX_8FFDAE8D3B69A9AF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_image_product_variants AS SELECT image_id, variant_id FROM sylius_product_image_product_variants');
        $this->addSql('DROP TABLE sylius_product_image_product_variants');
        $this->addSql('CREATE TABLE sylius_product_image_product_variants (image_id INTEGER NOT NULL, variant_id INTEGER NOT NULL, PRIMARY KEY(image_id, variant_id))');
        $this->addSql('INSERT INTO sylius_product_image_product_variants (image_id, variant_id) SELECT image_id, variant_id FROM __temp__sylius_product_image_product_variants');
        $this->addSql('DROP TABLE __temp__sylius_product_image_product_variants');
        $this->addSql('CREATE INDEX IDX_8FFDAE8D3DA5256D ON sylius_product_image_product_variants (image_id)');
        $this->addSql('CREATE INDEX IDX_8FFDAE8D3B69A9AF ON sylius_product_image_product_variants (variant_id)');
        $this->addSql('DROP INDEX IDX_CBA491AD2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_option_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_option_translation');
        $this->addSql('DROP TABLE sylius_product_option_translation');
        $this->addSql('CREATE TABLE sylius_product_option_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_option_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_option_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_option_translation');
        $this->addSql('CREATE INDEX IDX_CBA491AD2C2AC5D3 ON sylius_product_option_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_option_translation_uniq_trans ON sylius_product_option_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_F7FF7D4B77153098');
        $this->addSql('DROP INDEX IDX_F7FF7D4BA7C41D6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_value AS SELECT id, option_id, code FROM sylius_product_option_value');
        $this->addSql('DROP TABLE sylius_product_option_value');
        $this->addSql('CREATE TABLE sylius_product_option_value (id INTEGER NOT NULL, option_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_option_value (id, option_id, code) SELECT id, option_id, code FROM __temp__sylius_product_option_value');
        $this->addSql('DROP TABLE __temp__sylius_product_option_value');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_F7FF7D4B77153098 ON sylius_product_option_value (code)');
        $this->addSql('CREATE INDEX IDX_F7FF7D4BA7C41D6F ON sylius_product_option_value (option_id)');
        $this->addSql('DROP INDEX IDX_8D4382DC2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_option_value_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_option_value_translation AS SELECT id, translatable_id, value, locale FROM sylius_product_option_value_translation');
        $this->addSql('DROP TABLE sylius_product_option_value_translation');
        $this->addSql('CREATE TABLE sylius_product_option_value_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, value VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_option_value_translation (id, translatable_id, value, locale) SELECT id, translatable_id, value, locale FROM __temp__sylius_product_option_value_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_option_value_translation');
        $this->addSql('CREATE INDEX IDX_8D4382DC2C2AC5D3 ON sylius_product_option_value_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_option_value_translation_uniq_trans ON sylius_product_option_value_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_2B5FF0094584665A');
        $this->addSql('DROP INDEX IDX_2B5FF009A7C41D6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_options AS SELECT product_id, option_id FROM sylius_product_options');
        $this->addSql('DROP TABLE sylius_product_options');
        $this->addSql('CREATE TABLE sylius_product_options (product_id INTEGER NOT NULL, option_id INTEGER NOT NULL, PRIMARY KEY(product_id, option_id))');
        $this->addSql('INSERT INTO sylius_product_options (product_id, option_id) SELECT product_id, option_id FROM __temp__sylius_product_options');
        $this->addSql('DROP TABLE __temp__sylius_product_options');
        $this->addSql('CREATE INDEX IDX_2B5FF0094584665A ON sylius_product_options (product_id)');
        $this->addSql('CREATE INDEX IDX_2B5FF009A7C41D6F ON sylius_product_options (option_id)');
        $this->addSql('DROP INDEX IDX_C7056A994584665A');
        $this->addSql('DROP INDEX IDX_C7056A99F675F31B');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_review AS SELECT id, product_id, author_id, title, rating, comment, status, created_at, updated_at FROM sylius_product_review');
        $this->addSql('DROP TABLE sylius_product_review');
        $this->addSql('CREATE TABLE sylius_product_review (id INTEGER NOT NULL, product_id INTEGER NOT NULL, author_id INTEGER NOT NULL, title VARCHAR(255) NOT NULL, rating INTEGER NOT NULL, comment CLOB DEFAULT NULL, status VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_review (id, product_id, author_id, title, rating, comment, status, created_at, updated_at) SELECT id, product_id, author_id, title, rating, comment, status, created_at, updated_at FROM __temp__sylius_product_review');
        $this->addSql('DROP TABLE __temp__sylius_product_review');
        $this->addSql('CREATE INDEX IDX_C7056A994584665A ON sylius_product_review (product_id)');
        $this->addSql('CREATE INDEX IDX_C7056A99F675F31B ON sylius_product_review (author_id)');
        $this->addSql('DROP INDEX IDX_169C6CD94584665A');
        $this->addSql('DROP INDEX IDX_169C6CD9DE13F470');
        $this->addSql('DROP INDEX product_taxon_idx');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_taxon AS SELECT id, product_id, taxon_id, position FROM sylius_product_taxon');
        $this->addSql('DROP TABLE sylius_product_taxon');
        $this->addSql('CREATE TABLE sylius_product_taxon (id INTEGER NOT NULL, product_id INTEGER NOT NULL, taxon_id INTEGER NOT NULL, position INTEGER NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_taxon (id, product_id, taxon_id, position) SELECT id, product_id, taxon_id, position FROM __temp__sylius_product_taxon');
        $this->addSql('DROP TABLE __temp__sylius_product_taxon');
        $this->addSql('CREATE INDEX IDX_169C6CD94584665A ON sylius_product_taxon (product_id)');
        $this->addSql('CREATE INDEX IDX_169C6CD9DE13F470 ON sylius_product_taxon (taxon_id)');
        $this->addSql('CREATE UNIQUE INDEX product_taxon_idx ON sylius_product_taxon (product_id, taxon_id)');
        $this->addSql('DROP INDEX IDX_105A9082C2AC5D3');
        $this->addSql('DROP INDEX UNIQ_105A9084180C698989D9B62');
        $this->addSql('DROP INDEX sylius_product_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_translation AS SELECT id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale FROM sylius_product_translation');
        $this->addSql('DROP TABLE sylius_product_translation');
        $this->addSql('CREATE TABLE sylius_product_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, slug VARCHAR(255) NOT NULL, description CLOB DEFAULT NULL, meta_keywords VARCHAR(255) DEFAULT NULL, meta_description VARCHAR(255) DEFAULT NULL, short_description CLOB DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_translation (id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale) SELECT id, translatable_id, name, slug, description, meta_keywords, meta_description, short_description, locale FROM __temp__sylius_product_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_translation');
        $this->addSql('CREATE INDEX IDX_105A9082C2AC5D3 ON sylius_product_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_105A9084180C698989D9B62 ON sylius_product_translation (locale, slug)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_translation_uniq_trans ON sylius_product_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_A29B52377153098');
        $this->addSql('DROP INDEX IDX_A29B5234584665A');
        $this->addSql('DROP INDEX IDX_A29B5239DF894ED');
        $this->addSql('DROP INDEX IDX_A29B5239E2D1A41');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant AS SELECT id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required FROM sylius_product_variant');
        $this->addSql('DROP TABLE sylius_product_variant');
        $this->addSql('CREATE TABLE sylius_product_variant (id INTEGER NOT NULL, product_id INTEGER NOT NULL, tax_category_id INTEGER DEFAULT NULL, shipping_category_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, position INTEGER NOT NULL, version INTEGER DEFAULT 1 NOT NULL, on_hold INTEGER NOT NULL, on_hand INTEGER NOT NULL, tracked BOOLEAN NOT NULL, width DOUBLE PRECISION DEFAULT NULL, height DOUBLE PRECISION DEFAULT NULL, depth DOUBLE PRECISION DEFAULT NULL, weight DOUBLE PRECISION DEFAULT NULL, shipping_required BOOLEAN NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_variant (id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required) SELECT id, product_id, tax_category_id, shipping_category_id, code, created_at, updated_at, position, version, on_hold, on_hand, tracked, width, height, depth, weight, shipping_required FROM __temp__sylius_product_variant');
        $this->addSql('DROP TABLE __temp__sylius_product_variant');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A29B52377153098 ON sylius_product_variant (code)');
        $this->addSql('CREATE INDEX IDX_A29B5234584665A ON sylius_product_variant (product_id)');
        $this->addSql('CREATE INDEX IDX_A29B5239DF894ED ON sylius_product_variant (tax_category_id)');
        $this->addSql('CREATE INDEX IDX_A29B5239E2D1A41 ON sylius_product_variant (shipping_category_id)');
        $this->addSql('DROP INDEX IDX_76CDAFA13B69A9AF');
        $this->addSql('DROP INDEX IDX_76CDAFA1D957CA06');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant_option_value AS SELECT variant_id, option_value_id FROM sylius_product_variant_option_value');
        $this->addSql('DROP TABLE sylius_product_variant_option_value');
        $this->addSql('CREATE TABLE sylius_product_variant_option_value (variant_id INTEGER NOT NULL, option_value_id INTEGER NOT NULL, PRIMARY KEY(variant_id, option_value_id))');
        $this->addSql('INSERT INTO sylius_product_variant_option_value (variant_id, option_value_id) SELECT variant_id, option_value_id FROM __temp__sylius_product_variant_option_value');
        $this->addSql('DROP TABLE __temp__sylius_product_variant_option_value');
        $this->addSql('CREATE INDEX IDX_76CDAFA13B69A9AF ON sylius_product_variant_option_value (variant_id)');
        $this->addSql('CREATE INDEX IDX_76CDAFA1D957CA06 ON sylius_product_variant_option_value (option_value_id)');
        $this->addSql('DROP INDEX IDX_8DC18EDC2C2AC5D3');
        $this->addSql('DROP INDEX sylius_product_variant_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_product_variant_translation AS SELECT id, translatable_id, name, locale FROM sylius_product_variant_translation');
        $this->addSql('DROP TABLE sylius_product_variant_translation');
        $this->addSql('CREATE TABLE sylius_product_variant_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_product_variant_translation (id, translatable_id, name, locale) SELECT id, translatable_id, name, locale FROM __temp__sylius_product_variant_translation');
        $this->addSql('DROP TABLE __temp__sylius_product_variant_translation');
        $this->addSql('CREATE INDEX IDX_8DC18EDC2C2AC5D3 ON sylius_product_variant_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_product_variant_translation_uniq_trans ON sylius_product_variant_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_933D0915139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_action AS SELECT id, promotion_id, type, configuration FROM sylius_promotion_action');
        $this->addSql('DROP TABLE sylius_promotion_action');
        $this->addSql('CREATE TABLE sylius_promotion_action (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL, configuration CLOB NOT NULL --(DC2Type:array)
        , PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_promotion_action (id, promotion_id, type, configuration) SELECT id, promotion_id, type, configuration FROM __temp__sylius_promotion_action');
        $this->addSql('DROP TABLE __temp__sylius_promotion_action');
        $this->addSql('CREATE INDEX IDX_933D0915139DF194 ON sylius_promotion_action (promotion_id)');
        $this->addSql('DROP INDEX IDX_1A044F64139DF194');
        $this->addSql('DROP INDEX IDX_1A044F6472F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_channels AS SELECT promotion_id, channel_id FROM sylius_promotion_channels');
        $this->addSql('DROP TABLE sylius_promotion_channels');
        $this->addSql('CREATE TABLE sylius_promotion_channels (promotion_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(promotion_id, channel_id))');
        $this->addSql('INSERT INTO sylius_promotion_channels (promotion_id, channel_id) SELECT promotion_id, channel_id FROM __temp__sylius_promotion_channels');
        $this->addSql('DROP TABLE __temp__sylius_promotion_channels');
        $this->addSql('CREATE INDEX IDX_1A044F64139DF194 ON sylius_promotion_channels (promotion_id)');
        $this->addSql('CREATE INDEX IDX_1A044F6472F5A1AA ON sylius_promotion_channels (channel_id)');
        $this->addSql('DROP INDEX UNIQ_B04EBA8577153098');
        $this->addSql('DROP INDEX IDX_B04EBA85139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_coupon AS SELECT id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit FROM sylius_promotion_coupon');
        $this->addSql('DROP TABLE sylius_promotion_coupon');
        $this->addSql('CREATE TABLE sylius_promotion_coupon (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, usage_limit INTEGER DEFAULT NULL, used INTEGER NOT NULL, expires_at DATETIME DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, per_customer_usage_limit INTEGER DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_promotion_coupon (id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit) SELECT id, promotion_id, code, usage_limit, used, expires_at, created_at, updated_at, per_customer_usage_limit FROM __temp__sylius_promotion_coupon');
        $this->addSql('DROP TABLE __temp__sylius_promotion_coupon');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B04EBA8577153098 ON sylius_promotion_coupon (code)');
        $this->addSql('CREATE INDEX IDX_B04EBA85139DF194 ON sylius_promotion_coupon (promotion_id)');
        $this->addSql('DROP INDEX IDX_BF9CF6FB8D9F6D38');
        $this->addSql('DROP INDEX IDX_BF9CF6FB139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_order AS SELECT order_id, promotion_id FROM sylius_promotion_order');
        $this->addSql('DROP TABLE sylius_promotion_order');
        $this->addSql('CREATE TABLE sylius_promotion_order (order_id INTEGER NOT NULL, promotion_id INTEGER NOT NULL, PRIMARY KEY(order_id, promotion_id))');
        $this->addSql('INSERT INTO sylius_promotion_order (order_id, promotion_id) SELECT order_id, promotion_id FROM __temp__sylius_promotion_order');
        $this->addSql('DROP TABLE __temp__sylius_promotion_order');
        $this->addSql('CREATE INDEX IDX_BF9CF6FB8D9F6D38 ON sylius_promotion_order (order_id)');
        $this->addSql('CREATE INDEX IDX_BF9CF6FB139DF194 ON sylius_promotion_order (promotion_id)');
        $this->addSql('DROP INDEX IDX_2C188EA8139DF194');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_promotion_rule AS SELECT id, promotion_id, type, configuration FROM sylius_promotion_rule');
        $this->addSql('DROP TABLE sylius_promotion_rule');
        $this->addSql('CREATE TABLE sylius_promotion_rule (id INTEGER NOT NULL, promotion_id INTEGER DEFAULT NULL, type VARCHAR(255) NOT NULL, configuration CLOB NOT NULL --(DC2Type:array)
        , PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_promotion_rule (id, promotion_id, type, configuration) SELECT id, promotion_id, type, configuration FROM __temp__sylius_promotion_rule');
        $this->addSql('DROP TABLE __temp__sylius_promotion_rule');
        $this->addSql('CREATE INDEX IDX_2C188EA8139DF194 ON sylius_promotion_rule (promotion_id)');
        $this->addSql('DROP INDEX UNIQ_B5618FE477153098');
        $this->addSql('DROP INDEX IDX_B5618FE4F92F3E70');
        $this->addSql('DROP INDEX UNIQ_B5618FE4F92F3E705E237E06');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_province AS SELECT id, country_id, code, name, abbreviation FROM sylius_province');
        $this->addSql('DROP TABLE sylius_province');
        $this->addSql('CREATE TABLE sylius_province (id INTEGER NOT NULL, country_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_province (id, country_id, code, name, abbreviation) SELECT id, country_id, code, name, abbreviation FROM __temp__sylius_province');
        $this->addSql('DROP TABLE __temp__sylius_province');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5618FE477153098 ON sylius_province (code)');
        $this->addSql('CREATE INDEX IDX_B5618FE4F92F3E70 ON sylius_province (country_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5618FE4F92F3E705E237E06 ON sylius_province (country_id, name)');
        $this->addSql('DROP INDEX IDX_FD707B3319883967');
        $this->addSql('DROP INDEX IDX_FD707B338D9F6D38');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipment AS SELECT id, method_id, order_id, state, tracking, created_at, updated_at FROM sylius_shipment');
        $this->addSql('DROP TABLE sylius_shipment');
        $this->addSql('CREATE TABLE sylius_shipment (id INTEGER NOT NULL, method_id INTEGER NOT NULL, order_id INTEGER NOT NULL, state VARCHAR(255) NOT NULL, tracking VARCHAR(255) DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_shipment (id, method_id, order_id, state, tracking, created_at, updated_at) SELECT id, method_id, order_id, state, tracking, created_at, updated_at FROM __temp__sylius_shipment');
        $this->addSql('DROP TABLE __temp__sylius_shipment');
        $this->addSql('CREATE INDEX IDX_FD707B3319883967 ON sylius_shipment (method_id)');
        $this->addSql('CREATE INDEX IDX_FD707B338D9F6D38 ON sylius_shipment (order_id)');
        $this->addSql('DROP INDEX UNIQ_5FB0EE1177153098');
        $this->addSql('DROP INDEX IDX_5FB0EE1112469DE2');
        $this->addSql('DROP INDEX IDX_5FB0EE119F2C3FAB');
        $this->addSql('DROP INDEX IDX_5FB0EE119DF894ED');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method AS SELECT id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at FROM sylius_shipping_method');
        $this->addSql('DROP TABLE sylius_shipping_method');
        $this->addSql('CREATE TABLE sylius_shipping_method (id INTEGER NOT NULL, category_id INTEGER DEFAULT NULL, zone_id INTEGER NOT NULL, tax_category_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, configuration CLOB NOT NULL --(DC2Type:array)
        , category_requirement INTEGER NOT NULL, calculator VARCHAR(255) NOT NULL, is_enabled BOOLEAN NOT NULL, position INTEGER NOT NULL, archived_at DATETIME DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_shipping_method (id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at) SELECT id, category_id, zone_id, tax_category_id, code, configuration, category_requirement, calculator, is_enabled, position, archived_at, created_at, updated_at FROM __temp__sylius_shipping_method');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_5FB0EE1177153098 ON sylius_shipping_method (code)');
        $this->addSql('CREATE INDEX IDX_5FB0EE1112469DE2 ON sylius_shipping_method (category_id)');
        $this->addSql('CREATE INDEX IDX_5FB0EE119F2C3FAB ON sylius_shipping_method (zone_id)');
        $this->addSql('CREATE INDEX IDX_5FB0EE119DF894ED ON sylius_shipping_method (tax_category_id)');
        $this->addSql('DROP INDEX IDX_2D9833355F7D6850');
        $this->addSql('DROP INDEX IDX_2D98333572F5A1AA');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method_channels AS SELECT shipping_method_id, channel_id FROM sylius_shipping_method_channels');
        $this->addSql('DROP TABLE sylius_shipping_method_channels');
        $this->addSql('CREATE TABLE sylius_shipping_method_channels (shipping_method_id INTEGER NOT NULL, channel_id INTEGER NOT NULL, PRIMARY KEY(shipping_method_id, channel_id))');
        $this->addSql('INSERT INTO sylius_shipping_method_channels (shipping_method_id, channel_id) SELECT shipping_method_id, channel_id FROM __temp__sylius_shipping_method_channels');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method_channels');
        $this->addSql('CREATE INDEX IDX_2D9833355F7D6850 ON sylius_shipping_method_channels (shipping_method_id)');
        $this->addSql('CREATE INDEX IDX_2D98333572F5A1AA ON sylius_shipping_method_channels (channel_id)');
        $this->addSql('DROP INDEX IDX_2B37DB3D2C2AC5D3');
        $this->addSql('DROP INDEX sylius_shipping_method_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shipping_method_translation AS SELECT id, translatable_id, name, description, locale FROM sylius_shipping_method_translation');
        $this->addSql('DROP TABLE sylius_shipping_method_translation');
        $this->addSql('CREATE TABLE sylius_shipping_method_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, description VARCHAR(255) DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_shipping_method_translation (id, translatable_id, name, description, locale) SELECT id, translatable_id, name, description, locale FROM __temp__sylius_shipping_method_translation');
        $this->addSql('DROP TABLE __temp__sylius_shipping_method_translation');
        $this->addSql('CREATE INDEX IDX_2B37DB3D2C2AC5D3 ON sylius_shipping_method_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX sylius_shipping_method_translation_uniq_trans ON sylius_shipping_method_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX UNIQ_7C2B74809395C3F3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_shop_user AS SELECT id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at FROM sylius_shop_user');
        $this->addSql('DROP TABLE sylius_shop_user');
        $this->addSql('CREATE TABLE sylius_shop_user (id INTEGER NOT NULL, customer_id INTEGER NOT NULL, username VARCHAR(255) DEFAULT NULL, username_canonical VARCHAR(255) DEFAULT NULL, enabled BOOLEAN NOT NULL, salt VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, last_login DATETIME DEFAULT NULL, password_reset_token VARCHAR(255) DEFAULT NULL, password_requested_at DATETIME DEFAULT NULL, email_verification_token VARCHAR(255) DEFAULT NULL, verified_at DATETIME DEFAULT NULL, locked BOOLEAN NOT NULL, expires_at DATETIME DEFAULT NULL, credentials_expire_at DATETIME DEFAULT NULL, roles CLOB NOT NULL --(DC2Type:array)
        , email VARCHAR(255) DEFAULT NULL, email_canonical VARCHAR(255) DEFAULT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_shop_user (id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at) SELECT id, customer_id, username, username_canonical, enabled, salt, password, last_login, password_reset_token, password_requested_at, email_verification_token, verified_at, locked, expires_at, credentials_expire_at, roles, email, email_canonical, created_at, updated_at FROM __temp__sylius_shop_user');
        $this->addSql('DROP TABLE __temp__sylius_shop_user');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7C2B74809395C3F3 ON sylius_shop_user (customer_id)');
        $this->addSql('DROP INDEX UNIQ_3CD86B2E77153098');
        $this->addSql('DROP INDEX IDX_3CD86B2E12469DE2');
        $this->addSql('DROP INDEX IDX_3CD86B2E9F2C3FAB');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_tax_rate AS SELECT id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at FROM sylius_tax_rate');
        $this->addSql('DROP TABLE sylius_tax_rate');
        $this->addSql('CREATE TABLE sylius_tax_rate (id INTEGER NOT NULL, category_id INTEGER NOT NULL, zone_id INTEGER NOT NULL, code VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, amount NUMERIC(10, 5) NOT NULL, included_in_price BOOLEAN NOT NULL, calculator VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_tax_rate (id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at) SELECT id, category_id, zone_id, code, name, amount, included_in_price, calculator, created_at, updated_at FROM __temp__sylius_tax_rate');
        $this->addSql('DROP TABLE __temp__sylius_tax_rate');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_3CD86B2E77153098 ON sylius_tax_rate (code)');
        $this->addSql('CREATE INDEX IDX_3CD86B2E12469DE2 ON sylius_tax_rate (category_id)');
        $this->addSql('CREATE INDEX IDX_3CD86B2E9F2C3FAB ON sylius_tax_rate (zone_id)');
        $this->addSql('DROP INDEX UNIQ_CFD811CA77153098');
        $this->addSql('DROP INDEX IDX_CFD811CAA977936C');
        $this->addSql('DROP INDEX IDX_CFD811CA727ACA70');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon AS SELECT id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at FROM sylius_taxon');
        $this->addSql('DROP TABLE sylius_taxon');
        $this->addSql('CREATE TABLE sylius_taxon (id INTEGER NOT NULL, tree_root INTEGER DEFAULT NULL, parent_id INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, tree_left INTEGER NOT NULL, tree_right INTEGER NOT NULL, tree_level INTEGER NOT NULL, position INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_taxon (id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at) SELECT id, tree_root, parent_id, code, tree_left, tree_right, tree_level, position, created_at, updated_at FROM __temp__sylius_taxon');
        $this->addSql('DROP TABLE __temp__sylius_taxon');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CFD811CA77153098 ON sylius_taxon (code)');
        $this->addSql('CREATE INDEX IDX_CFD811CAA977936C ON sylius_taxon (tree_root)');
        $this->addSql('CREATE INDEX IDX_CFD811CA727ACA70 ON sylius_taxon (parent_id)');
        $this->addSql('DROP INDEX IDX_DBE52B287E3C61F9');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon_image AS SELECT id, owner_id, type, path FROM sylius_taxon_image');
        $this->addSql('DROP TABLE sylius_taxon_image');
        $this->addSql('CREATE TABLE sylius_taxon_image (id INTEGER NOT NULL, owner_id INTEGER NOT NULL, type VARCHAR(255) DEFAULT NULL, path VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_taxon_image (id, owner_id, type, path) SELECT id, owner_id, type, path FROM __temp__sylius_taxon_image');
        $this->addSql('DROP TABLE __temp__sylius_taxon_image');
        $this->addSql('CREATE INDEX IDX_DBE52B287E3C61F9 ON sylius_taxon_image (owner_id)');
        $this->addSql('DROP INDEX IDX_1487DFCF2C2AC5D3');
        $this->addSql('DROP INDEX slug_uidx');
        $this->addSql('DROP INDEX sylius_taxon_translation_uniq_trans');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_taxon_translation AS SELECT id, translatable_id, name, slug, description, locale FROM sylius_taxon_translation');
        $this->addSql('DROP TABLE sylius_taxon_translation');
        $this->addSql('CREATE TABLE sylius_taxon_translation (id INTEGER NOT NULL, translatable_id INTEGER NOT NULL, name VARCHAR(255) NOT NULL, slug VARCHAR(255) NOT NULL, description CLOB DEFAULT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_taxon_translation (id, translatable_id, name, slug, description, locale) SELECT id, translatable_id, name, slug, description, locale FROM __temp__sylius_taxon_translation');
        $this->addSql('DROP TABLE __temp__sylius_taxon_translation');
        $this->addSql('CREATE INDEX IDX_1487DFCF2C2AC5D3 ON sylius_taxon_translation (translatable_id)');
        $this->addSql('CREATE UNIQUE INDEX slug_uidx ON sylius_taxon_translation (locale, slug)');
        $this->addSql('CREATE UNIQUE INDEX sylius_taxon_translation_uniq_trans ON sylius_taxon_translation (translatable_id, locale)');
        $this->addSql('DROP INDEX IDX_C3471B78A76ED395');
        $this->addSql('DROP INDEX user_provider');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_user_oauth AS SELECT id, user_id, provider, identifier, access_token, refresh_token FROM sylius_user_oauth');
        $this->addSql('DROP TABLE sylius_user_oauth');
        $this->addSql('CREATE TABLE sylius_user_oauth (id INTEGER NOT NULL, user_id INTEGER DEFAULT NULL, provider VARCHAR(255) NOT NULL, identifier VARCHAR(255) NOT NULL, access_token VARCHAR(255) DEFAULT NULL, refresh_token VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_user_oauth (id, user_id, provider, identifier, access_token, refresh_token) SELECT id, user_id, provider, identifier, access_token, refresh_token FROM __temp__sylius_user_oauth');
        $this->addSql('DROP TABLE __temp__sylius_user_oauth');
        $this->addSql('CREATE INDEX IDX_C3471B78A76ED395 ON sylius_user_oauth (user_id)');
        $this->addSql('CREATE UNIQUE INDEX user_provider ON sylius_user_oauth (user_id, provider)');
        $this->addSql('DROP INDEX IDX_E8B5ABF34B0E929B');
        $this->addSql('DROP INDEX UNIQ_E8B5ABF34B0E929B77153098');
        $this->addSql('CREATE TEMPORARY TABLE __temp__sylius_zone_member AS SELECT id, belongs_to, code FROM sylius_zone_member');
        $this->addSql('DROP TABLE sylius_zone_member');
        $this->addSql('CREATE TABLE sylius_zone_member (id INTEGER NOT NULL, belongs_to INTEGER DEFAULT NULL, code VARCHAR(255) NOT NULL, PRIMARY KEY(id))');
        $this->addSql('INSERT INTO sylius_zone_member (id, belongs_to, code) SELECT id, belongs_to, code FROM __temp__sylius_zone_member');
        $this->addSql('DROP TABLE __temp__sylius_zone_member');
        $this->addSql('CREATE INDEX IDX_E8B5ABF34B0E929B ON sylius_zone_member (belongs_to)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_E8B5ABF34B0E929B77153098 ON sylius_zone_member (belongs_to, code)');
    }
}
